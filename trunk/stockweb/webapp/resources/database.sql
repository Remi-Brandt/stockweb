-- MySQL Administrator dump 1.4
--
-- ------------------------------------------------------
-- Server version	5.0.67-community-nt


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;


--
-- Create schema stockweb
--

CREATE DATABASE IF NOT EXISTS stockweb;
USE stockweb;

--
-- Definition of table `chartsetting`
--

DROP TABLE IF EXISTS `chartsetting`;
CREATE TABLE `chartsetting` (
  `id` int(10) unsigned NOT NULL auto_increment,
  `idscript` int(10) unsigned NOT NULL,
  `name` varchar(45) NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;

--
-- Dumping data for table `chartsetting`
--

/*!40000 ALTER TABLE `chartsetting` DISABLE KEYS */;
INSERT INTO `chartsetting` (`id`,`idscript`,`name`) VALUES 
 (4,118,'demo'),
 (5,109,'demo');
/*!40000 ALTER TABLE `chartsetting` ENABLE KEYS */;


--
-- Definition of table `indicator`
--

DROP TABLE IF EXISTS `indicator`;
CREATE TABLE `indicator` (
  `id` int(10) unsigned NOT NULL auto_increment,
  `name` varchar(45) NOT NULL,
  `descr` varchar(255) NOT NULL,
  PRIMARY KEY  (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `indicator`
--

/*!40000 ALTER TABLE `indicator` DISABLE KEYS */;
/*!40000 ALTER TABLE `indicator` ENABLE KEYS */;


--
-- Definition of table `scripts`
--

DROP TABLE IF EXISTS `scripts`;
CREATE TABLE `scripts` (
  `id` int(10) unsigned NOT NULL auto_increment,
  `script` text NOT NULL,
  `name` varchar(45) NOT NULL,
  `descr` text,
  `param` varchar(255) NOT NULL,
  `settingchart` varchar(255) default ' ',
  PRIMARY KEY  (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=119 DEFAULT CHARSET=latin1;

--
-- Dumping data for table `scripts`
--

/*!40000 ALTER TABLE `scripts` DISABLE KEYS */;
INSERT INTO `scripts` (`id`,`script`,`name`,`descr`,`param`,`settingchart`) VALUES 
 (17,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n\n/*\n    println(\"tendencia: \" + candles.getTendencia(lastbar, lastbar+3));\n    println(\"begin: \" + lastbar);\n    println(\"end: \" + (lastbar+1));\n    println(\"date: \" + candles.Date(lastbar));\n\n\n    json.put(\"high\", candles.High(lastbar));\n    json.put(\"low\", candles.Low(lastbar));\n    json.put(\"close\", candles.Close(lastbar));\n    json.put(\"open\", candles.Open(lastbar));\n\n//    input.put(\"candles\",\"2\");\n\n    var rs = script.call(\"$getTendenciaAltaBaixa\", lastbar, input);\n//    println(script.get(\"return\",rs));\n    json.put(\"result\",candles.getTendencia(lastbar,lastbar+2));\n    json.put(\"result\",candles.isHangingManORHammer(lastbar));\n    var rs = script.call(\"Bullish Tri-Star\", lastbar, input);\n    var rs = script.call(\"Bearish Identical 3 Crows\", lastbar, input);\n    var rs = script.call(\"Bearish Belt Hold\", lastbar, input);\n    var rs = script.call(\"Bullish Abandoned Baby\", lastbar, input);\n    var rs = script.call(\"Bullish Morning Doji Star\", lastbar, input);\n    var rs = script.call(\"Bearish Evening Doji Star\", lastbar, input);\n    var rs = script.call(\"Bullish Doji Star\", lastbar, input);\n    var rs = script.call(\"Bearish Doji Star\", lastbar, input);\n    var rs = script.call(\"Bearish Hanging Man\", lastbar, input);\n    var rs = script.call(\"Bullish Engulfing\", lastbar, input);\n    var rs = script.call(\"Bearish Engulfing\", lastbar, input);\n    var rs = script.call(\"Bullish Morning Star\", lastbar, input);\n    var rs = script.call(\"Bearish Evening Star\", lastbar, input);\n    var rs = script.call(\"Bullish Harami Cross\", lastbar, input);\n    var rs = script.call(\"Bearish Harami Cross\", lastbar, input);\n    var rs = script.call(\"Bullish Harami\", lastbar, input);\n    var rs = script.call(\"Bearish Harami\", lastbar, input);\n    var rs = script.call(\"Bullish Inverted Hammer\", lastbar, input);\n    var rs = script.call(\"Bullish Hammer\", lastbar, input);\n    var rs = script.call(\"Bearish Dark Cloud Cover\", lastbar, input);\n    var rs = script.call(\"Bearish On/In-Neck & Thrusting Pattern\", lastbar, input);\n    var rs = script.call(\"Bearish On-Neck Pattern\", lastbar, input);\n    var rs = script.call(\"Bullish Piercing Line Approval\", lastbar, input);\n    var rs = script.call(\"Bullish Piercing Line\", lastbar, input);\n    var rs = script.call(\"Bearish In-Neck\", lastbar, input);\n    var rs = script.call(\"Bearish On-Neck\", lastbar, input);\n    var rs = script.call(\"ThreeStartSouth\", lastbar, input);\n//    var rs = script.call(\"Tweezers Tops & Bottoms\", lastbar, input);\n\n    // OK\n    var rs = script.call(\"$IFR\", lastbar, input); //    input.put(\"ncandles\",\"14\");\n    var rs = script.call(\"Shooting Star\", lastbar, input);\n\n*/\n\n//    var rs = script.call(\"Bearish On-Neck\", lastbar, input);\n//    var rs = script.call(\"$MME\", lastbar, input);\n//    var rs = script.call(\"@Setup Pedrina\", lastbar, input);\n/*\n    input.put(\"ncandles\",\"5\");\n    var rs = script.call(\"$FI\", lastbar, input);\n\n    json.put(\"volume\", candles.Volume(lastbar));\n    json.put(\"result\", script.get(\"result\",rs));\n*/\n\n\n\n    //close,TMAp,TMA,TMAm\n    input.put(\"ncandles\",\"2\");\n    var rs = script.call(\"@Bandando\", lastbar, input);\n\n    json.put(\"close\", candles.Close(lastbar));\n    json.put(\"TMAp\", script.get(\"TMAp\",rs));\n    json.put(\"TMA\", script.get(\"TMA\",rs));\n    json.put(\"TMAm\", script.get(\"TMAm\",rs));\n\n\n/*\n    json.put(\"input_long\", script.get(\"input_long\",rs));\n    json.put(\"input_short\", script.get(\"input_short\",rs));\n    json.put(\"stop_gain\", script.get(\"stop_gain\",rs));\n    json.put(\"stop_loss\", script.get(\"stop_loss\",rs));\n    json.put(\"stop_inicial\", script.get(\"stop_inicial\",rs));\n\n//close,input_long,input_short,stop_gain,stop_loss,stop_inicial\n*/\n/*\n    input.put(\"ncandles\", \"5\");\n    var MME_5 = script.get(\"result\", script.call(\"$MME\", lastbar + 1, input));\n    input.put(\"ncandles\", \"10\");\n    var MME_10 = script.get(\"result\", script.call(\"$MME\", lastbar + 1, input));\n    input.put(\"ncandles\", \"21\");\n    var MME_21 = script.get(\"result\", script.call(\"$MME\", lastbar + 1, input));\n\n    input.put(\"ncandles\", \"6\");\n    var HiLo = script.get(\"result\", script.call(\"@HiLo\", lastbar, input));\n\n    json.put(\"HiLo\", HiLo);\n    json.put(\"MME_5\", MME_5);\n    json.put(\"MME_10\", MME_10);\n    json.put(\"MME_21\", MME_21);\n//close,MME_5,MME_10,MME_21,HiLo\n*/\n    return json;\n}\n','script 01','Teste de performance:\n\n* ThreeStartSouth = nao encontrei a aÃ§ao que possa testar os 3 ultimos candles.\n\n','close,TMAp,TMA,TMAm','#000000,#FE0101,histograma,0,close|#93B0C1,#FE0101,line,0,TMAp|#93B0C1,#93B0C1,line,0,TMA|#FE0101,#FE0101,line,0,TMAm'),
 (23,'function applyScript(candle, json, lastbar, script, input) {\n\n    var SinalCandle1 = false;\n    var SinalCandle2 = false;\n    var TendenciaCandleAlta = false;\n    var TendenciaCandleBaixa = false;\n    var QtdeTendenciaBaixa = 0;\n    var QtdeTendenciaAlta = 0;\n    var result = 0;\n\n    var x = lastbar;\n\n    var SinalCandle1 = (candle.Close(x) > candle.Open(x));\n    var SinalCandle2 = (candle.Close(x + 1) > candle.Open(x + 1));\n\n    // Verificando Tendencia de Baixa dos Candles\n    if (SinalCandle1 && SinalCandle2) {\n        TendenciaCandleAlta = candle.Close(x) > candle.Close(x + 1);\n        TendenciaCandleBaixa = candle.Close(x) < candle.Close(x + 1);\n    } else if ((SinalCandle1) && (SinalCandle2 == false)) {\n        TendenciaCandleAlta = (candle.Close(x) > candle.Open(x + 1)) || (candle.Close(x) > candle.Close(x + 1));\n        TendenciaCandleBaixa = (candle.Close(x) < candle.Open(x + 1)) && (candle.Close(x) < candle.Close(x + 1));\n    } else if ((SinalCandle1 == false) && (SinalCandle2)) {\n        TendenciaCandleAlta = (candle.Open(x) > candle.Close(x + 1)) && (candle.Close(x) > candle.Open(x + 1));\n        TendenciaCandleBaixa = (candle.Open(x) < candle.Close(x + 1)) || (candle.Close(x) < candle.Open(x + 1));\n    } else if ((SinalCandle1 == false) && (SinalCandle2 == false)) {\n        TendenciaCandleAlta = (candle.Open(x) > candle.Open(x + 1)) && (candle.Close(x) > candle.Open(x + 1));\n        TendenciaCandleBaixa = (candle.Open(x) < candle.Open(x + 1)) || (candle.Close(x) < candle.Close(x + 1));\n    }\n\n    if (TendenciaCandleBaixa) {\n        QtdeTendenciaBaixa = QtdeTendenciaBaixa + 1;\n    }\n\n    if (TendenciaCandleAlta) {\n        QtdeTendenciaAlta = QtdeTendenciaAlta + 1;\n    }\n\n    if (QtdeTendenciaBaixa == 0) { // QtdeTendenciaBaixa = 0 significa que a tendencia Ã© de ALTA\n        result = 1;\n    } else if (QtdeTendenciaAlta = 0) { // QtdeTendenciaAlta = 0 significa que a tendencia Ã© de BAIXA\n        result = 0;\n    }\n    json.put(\"return\", result);\n    return json;\n\n}\n','$getTendenciaAltaBaixa','$getTendenciaAltaBaixa(candleposition)','return',''),
 (24,'function applyScript(candle, json, lastbar, script, input) {\n\n    var ncandles = input.get(\"ncandles\");\n    var totClose = 0;\n    for (var x = lastbar; x < (lastbar+ncandles); x++) {\n        totClose  += candle.Close(x);\n    }\n\n    json.put(\"media\", Media);\n\n    return json;\n}\n','$getVolumeMedio','$getVolumeMedio(ncandles)','media,mediamin','#000000,#000000,Histograma,0'),
 (30,'function applyScript(candles, json, lastbar, script, input) {\n\n    result = 0;\n\n    var CorpoCandle1 = candles.getCandleSize(lastbar, 1, 0);\n    var SombraSup1 = candles.getCandleSize(lastbar, 2, 1);\n    var SombraInf1 = candles.getCandleSize(lastbar, 2, 2);\n    var LargCandle1 = CorpoCandle1 + SombraSup1 + SombraInf1;\n\n    var CorpoCandle2 = candles.getCandleSize((lastbar + 1), 1, 0);\n    var SombraSup2 = candles.getCandleSize((lastbar + 1), 2, 1);\n    var SombraInf2 = candles.getCandleSize((lastbar + 1), 2, 2);\n    var LargCandle2 = CorpoCandle2 + SombraSup2 + SombraInf2;\n\n    var CorpoCandle3 = candles.getCandleSize((lastbar + 2), 1, 0);\n    var SombraSup3 = candles.getCandleSize((lastbar + 2), 2, 1);\n    var SombraInf3 = candles.getCandleSize((lastbar + 2), 2, 2);\n    var LargCandle3 = CorpoCandle3 + SombraSup3 + SombraInf3;\n    //=================================================================================\n    // 3 corvos idÃªnticos (Bearish Identical 3 Crows)\n    var x = 1.5;\n\n    DojiCandle1 = candles.Doji(lastbar);\n    DojiCandle2 = candles.Doji(lastbar + 1);\n    DojiCandle3 = candles.Doji(lastbar + 1);\n\n    TendenciaUltimosCandles = candles.getTendencia(lastbar + 2, lastbar + 3);\n\n    TerceiroCandleBaixa = DojiCandle3 && ((candles.Open(lastbar + 2) < candles.Close(3)) || (candles.Open(lastbar + 2) < candles.Open(3))) && ((candles.Close(lastbar + 2) < candles.Close(3)) || (candles.Close(lastbar + 2) < candles.Open(3))) && ((LargCandle1 < LargCandle2 * x) && (LargCandle1 < LargCandle3 * x));\n\n    SegundoCandleBaixa = DojiCandle2 && ((candles.Open(lastbar + 1) < candles.Close(lastbar + 2)) || (candles.Open(lastbar + 1) < candles.Open(lastbar + 2))) && ((candles.Close(lastbar + 1) < candles.Close(lastbar + 2)) || (candles.Close(lastbar + 1) < candles.Open(lastbar + 2))) && ((LargCandle2 < LargCandle1 * x) && (LargCandle2 < LargCandle3 * x));\n\n    PrimeiroCandleBaixa = DojiCandle1 && ((candles.Open(lastbar) > candles.Close(lastbar + 2)) || (candles.Open(lastbar) > candles.Open(lastbar + 2))) && ((candles.Close(lastbar) > candles.Close(lastbar + 2)) || (candles.Close(lastbar) > candles.Open(lastbar + 2))) && ((LargCandle3 < LargCandle1 * x) && (LargCandle3 < LargCandle2 * x));\n\n    //perc60Candle = (((Open[1] - Close[1]) / 100) * 50) //Retorna o valor do preÃ§o que representa 10%\n    //perc40Candle = (((Open[1] - Close[1]) / 100) * 40) //Retorna o valor do preÃ§o que representa 10%\n    TresEstrelas = TerceiroCandleBaixa && SegundoCandleBaixa && PrimeiroCandleBaixa && (TendenciaUltimosCandles = 1);\n\n    if (TresEstrelas) {\n        result = -19;\n    }\n\n    json.put(\"result\", result);\n    return json;\n}\n','Bullish Tri-Star','3 estrelas (Bullish Tri-Star)\n--------------------------------\nDescriÃ§Ã£o : Todos os 3 dias sÃ£o dojis.\nSegundo dia abre com gap de baixa abaixo do primeiro dia e do terceiro\n\nPsicologia\n\nPadrÃ£o raro, entÃ£o esteja sempre atento com essa formaÃ§Ã£o. Este padrÃ£o nÃ£o Ã© vÃ¡lido para aÃ§Ãµes com baixo volume. A grande indecisÃ£o criada por esses trÃªs dojis deve ser ignorada por traders. Este nÃ­vel de indecisÃ£o emite fortes sugestÃµes que a tendÃªncia estÃ¡ para mudar. E Ã© sinal de reversÃ£o para alta.\n\nTipo : BULLISH/ALTA REVERSÃƒO','result','#000000,#000000,Histograma,0'),
 (31,'function applyScript(candles, json, lastbar, script, input) {\n\n    var result = 0;\n\n    var CorpoCandle1 = candles.getCandleSize(lastbar, 1, 0);\n    var SombraSup1 = candles.getCandleSize(lastbar, 2, 1);\n    var SombraInf1 = candles.getCandleSize(lastbar, 2, 2);\n\n    var CorpoCandle2 = candles.getCandleSize(lastbar + 1, 1, 0);\n    var SombraSup2 = candles.getCandleSize(lastbar + 1, 2, 1);\n    var SombraInf2 = candles.getCandleSize(lastbar + 1, 2, 2);\n\n    var CorpoCandle3 = candles.getCandleSize(lastbar + 2, 1, 0);\n    var SombraSup3 = candles.getCandleSize(lastbar + 2, 2, 1);\n    var SombraInf3 = candles.getCandleSize(lastbar + 2, 2, 2);\n\n    var CorpoCandle4 = candles.getCandleSize(lastbar + 3, 1, 0);\n    var SombraSup4 = candles.getCandleSize(lastbar + 3, 2, 1);\n    var SombraInf4 = candles.getCandleSize(lastbar + 3, 2, 2);\n\n    var CorpoCandle5 = candles.getCandleSize(lastbar + 4, 1, 0);\n    var SombraSup5 = candles.getCandleSize(lastbar + 4, 2, 1);\n    var SombraInf5 = candles.getCandleSize(lastbar + 4, 2, 2);\n\n    var LarguraCandle5 = (CorpoCandle5 + SombraSup5 + SombraInf5);\n    var LarguraCandle4 = (CorpoCandle4 + SombraSup4 + SombraInf4);\n    var LarguraCandle3 = (CorpoCandle3 + SombraSup3 + SombraInf3);\n    var LarguraCandle2 = (CorpoCandle2 + SombraSup2 + SombraInf2);\n    var LarguraCandle1 = (CorpoCandle1 + SombraSup1 + SombraInf1);\n\n    var TendenciaUltimosCandles = candles.getTendencia(5, 6);\n\n    var QuintoCandleBaixa = (candles.Open(lastbar + 4) > candles.Close(lastbar + 4)) && (CorpoCandle5 > (SombraSup5 + SombraInf5));\n\n    var QuartoCandle = ((candles.Open(lastbar + 3) > candles.Close(lastbar + 4)) || (candles.Open(lastbar + 3) > candles.Close(lastbar))) && (CorpoCandle4 > (SombraSup4 + SombraInf4)) && (LarguraCandle4 * 2 < LarguraCandle5);\n\n    var TerceiroCandle = ((candles.Open(lastbar + 2) > candles.Close(lastbar + 4)) || (candles.Open(lastbar + 2) > candles.Close(lastbar))) && (CorpoCandle3 > (SombraSup3 + SombraInf3)) && (LarguraCandle3 * 2 < LarguraCandle5);\n\n    var SegundoCandle = ((candles.Open(lastbar + 1) > candles.Close(lastbar + 4)) || (candles.Open(lastbar + 1) > candles.Close(lastbar))) && (CorpoCandle2 > (SombraSup2 + SombraInf2)) && (LarguraCandle2 * 2 < LarguraCandle5);\n\n    var PrimeiroCandleBaixa = (candles.Open(lastbar) > candles.Close(lastbar)) && (CorpoCandle1 > (SombraSup1 + SombraInf1)) && (candles.Close(lastbar) < candles.Low(lastbar + 4)) && ((LarguraCandle1 > LarguraCandle2) && (LarguraCandle1 > LarguraCandle3) && (LarguraCandle1 > LarguraCandle4));\n\n    var TresMetodosQueda = (TendenciaUltimosCandles == 0) && QuintoCandleBaixa && QuartoCandle && TerceiroCandle && SegundoCandle && PrimeiroCandleBaixa;\n\n    if (TresMetodosQueda) {\n        result = 19;\n    }\n\n    json.put(\"result\", result);\n    return json;\n}\n','Bearish 3 methods','','result',''),
 (32,'function applyScript(candles, json, lastbar, script, input) {\n\n    var result = 0;\n\n    //=================================================================================\n    // 2 corvos (Bearish 2 Crows)\n    var CorpoCandle1 = candles.getCandleSize(lastbar, 1, 0);\n    var SombraSup1 = candles.getCandleSize(lastbar, 2, 1);\n    var SombraInf1 = candles.getCandleSize(lastbar, 2, 2);\n\n    var CorpoCandle3 = candles.getCandleSize(lastbar+2, 1, 0);\n    var SombraSup3 = candles.getCandleSize(lastbar+2, 2, 1);\n    var SombraInf3 = candles.getCandleSize(lastbar+2, 2, 2);\n    var TendenciaUltimosCandles = candles.getTendencia(lastbar+2, lastbar+4);\n\n    var TerceiroCandleAlta = (candles.Open(lastbar + 2) < candles.Close(lastbar + 2)) && (CorpoCandle3 > (SombraSup3 + SombraInf3));\n\n    var SegundoCandleBaixa = ((candles.Open(lastbar + 1) > candles.Close(lastbar + 2)) && (candles.Close(lastbar + 1) > candles.Close(lastbar + 2))) && (candles.Open(lastbar+1) != candles.Close(lastbar+1)) && (candles.Close(lastbar + 1) < candles.Open(lastbar+1)) && (candles.High(lastbar + 1) > candles.High(lastbar + 2)) && (candles.Low(lastbar + 1) > candles.High(lastbar+2));\n\n    //perc60Candle = (((Open[1] - Close[1]) / 100) * 50) //Retorna o valor do preÃ§o que representa 10%\n    //perc40Candle = (((Open[1] - Close[1]) / 100) * 40) //Retorna o valor do preÃ§o que representa 10%\n\n    var PrimeiroCandleBaixa = (candles.Open(lastbar) > candles.Close(lastbar)) && (candles.Open(lastbar) <= candles.Open(lastbar + 1)) && (candles.Open(lastbar) > candles.Close(lastbar + 1)) && (CorpoCandle1 > (SombraSup1 + SombraInf1));\n\n    var DoisCorvos = TerceiroCandleAlta && SegundoCandleBaixa && PrimeiroCandleBaixa && (TendenciaUltimosCandles == 1);\n\n    if (DoisCorvos) {\n        result = -18;\n    }\n    json.put(\"result\", result);\n    return json;\n}','Bearish Two Crows','Bearish 2 Crows (2 corvos de baixa) \n\nDescriÃ§Ã£o:\nNo primeiro dia forma-se um longo candle branco continuando a tendÃªncia de alta. No segundo dia ocorre um gap com um candle de baixa. No terceiro dia ocorre um candle de baixa engolfando o candle anterior, fechando acima do fechamento do primeiro dia.\n\nInterpretaÃ§Ã£o:\nApÃ³s formado o gap, o segundo candle mostra que o mercado perdeu um pouco de forÃ§a. O terceiro candle que envolve o segundo apresenta um sinal de mais perda de forÃ§a do movimento, significando que o mercado nÃ£o segurarÃ¡ mais essa posiÃ§Ã£o, pronto para a formaÃ§Ã£o de um topo e uma possÃ­vel reversÃ£o. ','result',''),
 (33,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// 3 corvos idÃªnticos (Bearish Identical 3 Crows)\n\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0);\nvar SombraSup1 = candles.getCandleSize(lastbar ,2 ,1);\nvar SombraInf1 = candles.getCandleSize(lastbar ,2 ,2);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\nvar CorpoCandle3 = candles.getCandleSize(lastbar+2 ,1 ,0);\nvar SombraSup3 = candles.getCandleSize(lastbar+2 ,2 ,1);\nvar SombraInf3 = candles.getCandleSize(lastbar+2 ,2 ,2);\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+2,4);\n\nvar TerceiroCandleBaixa = (candles.Open(lastbar+2) > candles.Close(lastbar+2)) && ( CorpoCandle3 > (SombraSup3+SombraInf3) );\n\nvar SegundoCandleBaixa = (candles.Open(lastbar+1) > candles.Close(lastbar+1)) && ( CorpoCandle2 > (SombraSup2+SombraInf2) ) && (candles.Open(lastbar+1) < candles.Close(lastbar+2));\n\nvar PrimeiroCandleBaixa = (candles.Open(lastbar) > candles.Close(lastbar)) && ( CorpoCandle1 > (SombraSup1+SombraInf1) )  && (candles.Open(lastbar) < candles.Close(lastbar+1));\n\n//perc60Candle = (((candles.Open(lastbar+1) - candles.Close(lastbar+1)) / 100) * 50) //Retorna o valor do preÃ§o que representa 10%\n//perc40Candle = (((candles.Open(lastbar+1) - candles.Close(lastbar+1)) / 100) * 40) //Retorna o valor do preÃ§o que representa 10%\n\nvar TreCorvosIdenticos = TerceiroCandleBaixa && SegundoCandleBaixa && PrimeiroCandleBaixa &&  (TendenciaUltimosCandles==1);\n\nif (TreCorvosIdenticos && (candles.Open(lastbar+2) > candles.Close(lastbar+3)) && (candles.Open(lastbar+2) > candles.Open(lastbar+3))) {\n	result =-18;\n}else if(TreCorvosIdenticos) {\n	result=18;\n}\n\njson.put(\"result\",result);\nreturn json;\n}\n','Bearish Identical 3 Crows','3 corvos idÃªnticos (Bearish Identical 3 Crows)\n\nDescriÃ§Ã£o : Todos os 3 dias sÃ£o dojis.\nSegundo dia abre com gap de baixa abaixo do primeiro dia e do terceiro\n\nPsicologia\n\nPadrÃ£o raro, entÃ£o esteja sempre atento com essa formaÃ§Ã£o. Este padrÃ£o nÃ£o Ã© vÃ¡lido para aÃ§Ãµes com baixo volume. A grande indecisÃ£o criada por esses trÃªs dojis deve ser ignorada por traders. Este nÃ­vel de indecisÃ£o emite fortes sugestÃµes que a tendÃªncia estÃ¡ para mudar.\n\nTipo : BEARISH/BAIXA REVERSÃƒO','result',''),
 (34,'function applyScript(candles, json, lastbar, script, input) {\n    //CANDLE - Bearish Belt Hold\n    var result = 0;\n    // ===========================================================================\n    //  Bearish Belt Hold\n    var CorpoCandle1 = candles.getCandleSize(lastbar, 1, 0);\n    var SombraSup1 = candles.getCandleSize(lastbar, 2, 1);\n    var SombraInf1 = candles.getCandleSize(lastbar, 2, 2);\n\n    var CorpoCandle2 = candles.getCandleSize(lastbar + 1, 1, 0);\n    var CorpoCandle3 = candles.getCandleSize(lastbar + 2, 1, 0);\n    var CorpoCandle4 = candles.getCandleSize(lastbar + 3, 1, 0);\n    //CorpoCandle5 = candles.getCandleSize(lastbar+4 ,1 ,0);\n    var TendenciaCandles = candles.getTendencia(lastbar + 1, 3);\n    var range20percCandle2 = ((Math.abs(candles.Open(lastbar + 1) - candles.Close(lastbar + 1)) / 100) * 20);\n    var range10percCandle2 = ((Math.abs(candles.Open(lastbar + 1) - candles.Close(lastbar + 1)) / 100) * 10);\n\n    var LarguraCandle = (CorpoCandle1 > CorpoCandle2 * 1.05) && (CorpoCandle1 > CorpoCandle3 * 1.05) && (CorpoCandle1 > CorpoCandle4 * 1.05) && (SombraInf1 > SombraSup1);\n\n    var PrimeiroCandleBaixa = (candles.Open(lastbar) > candles.High(lastbar + 1)) && (CorpoCandle1 > (SombraSup1 + SombraInf1)) && (candles.Close(lastbar) < candles.Low(lastbar) + range20percCandle2) && (((candles.Close(lastbar) > candles.Open(lastbar + 1)) && (candles.Close(lastbar) > candles.Open(lastbar + 1) + range10percCandle2) && (candles.Close(lastbar + 1) > candles.Open(lastbar + 1))) || ((candles.Close(lastbar) > candles.Close(lastbar + 1)) && (candles.Close(lastbar) > candles.Close(lastbar + 1) + range10percCandle2) && (candles.Close(lastbar + 1) < candles.Open(lastbar + 1)))) && (candles.Close(lastbar) < candles.High(lastbar + 1));\n\n    var BearishBeltHold = PrimeiroCandleBaixa && LarguraCandle && (TendenciaCandles == 1);\n\n    if (BearishBeltHold) {\n        result = 1;\n    }\n\n    json.put(\"result\", result);\n    return json;\n}\n','Bearish Belt Hold','Bearish Belt Hold\n\nhttp://thepatternsite.com/BeltHoldBear.html','result',''),
 (35,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n// ================================================================================\n// BebÃª abandonado de alta (Bullish Abandoned Baby)\nvar DojiCandle2 = candles.Doji(lastbar+1);\n\nvar CorpoCandle3 = candles.getCandleSize(lastbar+2 ,1 ,0);\nvar SombraSup3 = candles.getCandleSize(lastbar+2 ,2 ,1);\nvar SombraInf3 = candles.getCandleSize(lastbar+2 ,2 ,2);\n\nvar TendenciaCandles = candles.getTendencia(lastbar+2 ,4);\n\nvar TerceiroCandle = (candles.Open(lastbar+2) > candles.Close(lastbar+2)) && (CorpoCandle3 > (SombraSup3+SombraInf3));\nvar SegundoCandle = DojiCandle2 && (candles.High(lastbar+1) < candles.Low(lastbar+2)) && (candles.High(lastbar+1) < candles.Low(lastbar));\nvar PrimeiroCandle = (candles.Close(lastbar) > candles.Open(lastbar));\n\nvar BebeAbandonadoAlta = (TendenciaCandles==0) && PrimeiroCandle && SegundoCandle && TerceiroCandle;\n\nif(BebeAbandonadoAlta) {\n	result = 20;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n\n','Bullish Abandoned Baby','BebÃª abandonado de alta (Bullish Abandoned Baby)\n\nDescriÃ§Ã£o : Primeiro dia os vendedores dominam.\nSegundo dia Ã© um doji que abre em gap de baixa abaixo do preÃ§o de abertura do dia anterior.\nO terceiro dia Ã© completamente dominado pelos compradores que abre com gap de alta.\n\nPsicologia\n\nO gap de baixa no segundo dia encoraja os vendedores, no entando o preÃ§o fecha no mesmo valor de abertura do segundo dia. Com isso gera-se um sinal temporÃ¡rio de lucro para os vendidos, no entando no terceiro dia revela-se o cenÃ¡rio sobre a indecisÃ£o do segundo dia. Movimentos fortes de alta para os prÃ³ximos dias.\n\nTipo : BULLISH/ALTA REVERSÃƒO','result',''),
 (36,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n//Doji Estrela da manhÃ£ (Bullish Morning Doji Star)\n\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\n\nvar CorpoCandle3 = candles.getCandleSize(lastbar+2 ,1 ,0);\nvar SombraSup3 = candles.getCandleSize(lastbar+2 ,2 ,1);\nvar SombraInf3 = candles.getCandleSize(lastbar+2 ,2 ,2);\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+2,3);\n\nvar TerceiroCandleBaixa = (candles.Close(lastbar+2) < candles.Open(lastbar+2)) && (CorpoCandle3 > (SombraSup3+SombraInf3));\n\nvar CandleDoji = candles.Doji(lastbar+1);\n\nvar SegundoCandleGAP = CandleDoji && ((candles.Open(lastbar+1) < candles.Close(lastbar+2)) && (candles.Close(lastbar+1) < candles.Close(lastbar+2))) && ((candles.Open(lastbar+1) < candles.Open(lastbar)) && (candles.Close(lastbar+1) < candles.Open(lastbar)));\n\nvar PrimeiroCandleAlta = (candles.Close(lastbar) >= candles.Close(lastbar+2)) && (candles.Open(lastbar) < candles.Close(lastbar+2)) && (CorpoCandle1 > CorpoCandle2);\n\nvar DojiEstrelaDaManha = TerceiroCandleBaixa && SegundoCandleGAP && PrimeiroCandleAlta && (TendenciaUltimosCandles == 0);\n\nif(DojiEstrelaDaManha) {\n	result = 8;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n\n','Bullish Morning Doji Star','Doji Estrela da manhÃ£ (Bullish Morning Doji Star)\n\nDescriÃ§Ã£o : Primeiro dia com forÃ§a vendedora dominando. Segundo dia Ã© uma doji que abre em gap de baixa abaixo do preÃ§o de fechamento do dia anterior. Terceiro dia Ã© um candle de alta.\n\nPsicologia\n\nA tendÃªncia de alta criada pela doji no segundo dia Ã© confirmada no terceiro dia. Se a penetraÃ§Ã£o do terceiro candle for maior do que 50% do primeiro candle, entÃ£o esta formaÃ§Ã£o tem uma maior chance de ter sucesso para o trader.\n\nTipo : BULLISH/ALTA REVERSÃƒO','result',''),
 (37,'function applyScript(candles, json, lastbar, script, input) {\n\n    var result = 0;\n\n    //=================================================================================\n    // Doji Estrela da noite (Bearish Evening Doji Star)\n    var CorpoCandle1 = candles.getCandleSize(lastbar, 1, 0);\n\n    var CorpoCandle2 = candles.getCandleSize(lastbar + 1, 1, 0);\n\n    var CorpoCandle3 = candles.getCandleSize(lastbar + 2, 1, 0);\n    var SombraSup3 = candles.getCandleSize(lastbar + 2, 2, 1);\n    var SombraInf3 = candles.getCandleSize(lastbar + 2, 2, 2);\n\n    var TendenciaUltimosCandles = candles.getTendencia(lastbar + 2, 3);\n\n    var TerceiroCandleAlta = (candles.Close(lastbar + 2) > candles.Open(lastbar + 2)) && (CorpoCandle3 > (SombraSup3 + SombraInf3));\n\n    var CandleDoji = candles.Doji(lastbar + 1);\n\n    var SegundoCandleGAP = CandleDoji && ((candles.Open(lastbar + 1) > candles.Close(lastbar + 2)) && (candles.Close(lastbar + 1) > candles.Close(lastbar + 2))) && ((candles.Open(lastbar + 1) > candles.Open(lastbar)) && (candles.Close(lastbar + 1) > candles.Open(lastbar))) && (candles.Low(lastbar + 1) > candles.High(lastbar + 2));\n\n    var PrimeiroCandleBaixa = (candles.Open(lastbar) > candles.Close(lastbar)) && (candles.Open(lastbar) >= candles.Open(lastbar + 2)) && (candles.Open(lastbar) > candles.Close(lastbar + 2)) && (CorpoCandle1 > CorpoCandle2);\n\n    var DojiEstrelaDaNoite = TerceiroCandleAlta && SegundoCandleGAP && PrimeiroCandleBaixa && (TendenciaUltimosCandles == 1);\n\n    if (DojiEstrelaDaNoite) {\n        result = -8;\n    }\n\n    if (DojiEstrelaDaNoite && ((candles.Close(lastbar + 2) < candles.Open(lastbar)) && (candles.Close(lastbar + 2) > candles.Close(lastbar)))) {\n        result = -8.5;\n    }\n\n    json.put(\"result\", result);\n    return json;\n\n}\n','Bearish Evening Doji Star','Doji Estrela da noite (Bearish Evening Doji Star)\n\nDescriÃ§Ã£o : Primeiro dia com forÃ§a compradora dominando. Segundo dia Ã© uma doji que abre em gap de alta acima do preÃ§o de fechamento do dia anterior. Terceiro dia Ã© um candle de baixa.\n\nPsicologia\n\nA tendÃªncia de baixa gerada pela doji no segundo dia Ã© confirmada no terceiro dia. Se a penetraÃ§Ã£o do terceiro candle for maior do que 50% do primeiro candle, entÃ£o esta formaÃ§Ã£o tem uma maior chance de ter sucesso para o trader.\n\nTipo : BEARISH/BAIXA REVERSÃƒO','result',''),
 (38,'//C&&LE - Doji estrela de alta\n\nfunction applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// Doji estrela de alta (Bullish Doji Star)\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+1,3);\n\nvar SegundoCandleBaixa = (candles.Open(lastbar+1) > candles.Close(lastbar+1)) && (CorpoCandle2 > CorpoCandle1) && ( CorpoCandle2 > (SombraSup2+SombraInf2) );\n\nvar CandleDoji = candles.Doji(lastbar);\n\nvar PrimeiroCandleGAP = CandleDoji && ((candles.Open(lastbar) < candles.Open(lastbar+1)) && (candles.Open(lastbar) < candles.Close(lastbar+1))) && (candles.High(lastbar) < candles.Low(lastbar+1));\n\nvar DojiEstrelaAlta = SegundoCandleBaixa && PrimeiroCandleGAP && (TendenciaUltimosCandles==0);\n\nif (DojiEstrelaAlta) {\n  result = 7;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n','Bullish Doji Star','Doji estrela de alta (Bullish Doji Star)\n\nDescriÃ§Ã£o : Primeiro dia completamente dominado pela forÃ§a vendedora.\nSegundo dia Ã© um doji que abre em gap de baixa abaixo da mÃ­nima do dia primeiro dia.\nAs sombras da doji nÃ£o podem ser longas.\n\nPsicologia\n\nA tendÃªncia de baixa estÃ¡ com forÃ§a total no primeiro dia. Toda a confianÃ§a dos vendidos Ã© destruida a partir do momento que o segundo dia abre em gap de baixa e fecha no mesmo ponto na qual abriu, ou prÃ³ximo a ele. Vendedores irÃ£o fechar suas posiÃ§Ãµes rapidamente caso no prÃ³ximo dia invadam a mÃ¡xima do doji.\n\nTipo : BULLISH/ALTA REVERSÃƒO','result',''),
 (39,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// Doji estrela (Bearish Doji Star)\n\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+1,3);\n\nvar SegundoCandleAlta = (candles.Open(lastbar) > candles.Close(lastbar)) && (CorpoCandle2 > CorpoCandle1) && ( CorpoCandle2 > (SombraSup2+SombraInf2) );\n\nvar CandleDoji = candles.Doji(lastbar);\n\nvar PrimeiroCandleGAP = CandleDoji && ( ((candles.Open(lastbar+1) > candles.Close(lastbar+1)) && (candles.Open(lastbar) > candles.Open(lastbar+1))) || ( (candles.Open(lastbar+1) < candles.Close(lastbar+1)) && (candles.Open(lastbar) > candles.Close(lastbar+1)) )) && (candles.Low(lastbar) > candles.Low(lastbar+1));\n\nvar DojiEstrela = SegundoCandleAlta && PrimeiroCandleGAP && (TendenciaUltimosCandles==1);\n\nif(DojiEstrela) {\n	result = -7;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n','Bearish Doji Star','Doji estrela de queda (Bearish Doji Star)\n\nDescriÃ§Ã£o : Primeiro dia completamente dominado pela forÃ§a compradora.\nSegundo dia Ã© um doji que abre em gap de alta acima da mÃ¡xima do dia primeiro dia.\nAs sombras da doji nÃ£o podem ser longas.\n\nPsicologia\n\nA tendÃªncia de alta estÃ¡ com forÃ§a total no primeiro dia. Toda a confianÃ§a dos comprados Ã© destruida a partir do momento que o segundo dia abre em gap de alta e fecha no mesmo ponto na qual abriu, ou prÃ³ximo a ele. Compradores irÃ£o fechar suas posiÃ§Ãµes rapidamente caso no prÃ³ximo dia invadam a mÃ­nima do doji.\n\nTipo : BEARISH/BAIXA REVERSÃƒO','result',''),
 (40,'function applyScript(candles, json, lastbar, script, input) {\n\n    var result = 0;\n\n    //=================================================================================\n    // O enforcado (Bearish Hanging Man)\n    var CorpoCandle2 = candles.getCandleSize(lastbar + 1, 1, 0);\n    var SombraSup2 = candles.getCandleSize(lastbar + 1, 2, 1);\n    var SombraInf2 = candles.getCandleSize(lastbar + 1, 2, 2);\n\n    var LarguraCandle2 = candles.getCandleSize(lastbar + 1, 3, 0);\n\n    var percLargCandle2 = 100 - Math.abs(((CorpoCandle2 / LarguraCandle2) * 100) - 100);\n\n    var CandlesTendencia = candles.getTendencia(lastbar + 1, 3);\n\n    Enforcado = (candles.Open(lastbar + 1) != candles.Close(lastbar + 1)) && ((percLargCandle2 > 10) && (percLargCandle2 <= 30)) && ((SombraInf2 > CorpoCandle2 * 2) && ((SombraSup2 / (SombraInf2 + CorpoCandle2)) < 0.10)) && (candles.Close(lastbar) < candles.Close(lastbar + 1)) && (CandlesTendencia == 1); // Tendencia de Alta\n    if (Enforcado) {\n        result = 3;\n    }\n\n    json.put(\"result\", result);\n    return json;\n\n}\n','Bearish Hanging Man','O enforcado (Bearish Hanging Man)\n\nDescriÃ§Ã£o : Candle formado por um candle de corpo pequeno e longa sombra, a cor do candle nÃ£o importa.\nLonga sombra formada, duas vezes maior que o corpo do candle, com nenhuma ou mÃ­nima sombra superior.\nA tendÃªncia obrigatoriamente deve ser de alta.\n\nPsicologia\n\nComo qualquer candle Ãºnico, confirmaÃ§Ã£o Ã© obrigatÃ³ria para o candle funcionar. Esta formaÃ§Ã£o apresenta uma grande forÃ§a vendedora fazendo mÃ­nimas cada vez mais fortes no candle presente porÃ©m o mesmo reverte e fecha perto da abertura do dia. Esse fato tira a certeza dos comprados que estÃ£o sobre controle. Para a confirmaÃ§Ã£o do candle, seria bom o candle seguinte abrir abaixo do que a mÃ­nima do dia anterior e o fechamento apresentando forÃ§a total dos vendidos.\n\nTipo : BEARISH/BAIXA REVERSÃƒO','result',''),
 (41,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n// ================================================================================\n//  Engolfo de alta (Bullish Engulfing)\n// ================================================================================\n//  Engolfo de alta\nCorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0);\n\nCorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\n\nvar myDoji = candles.Doji(lastbar+1);\nvar TendenciaCandlesMinima = candles.getTendencia(lastbar+1 ,3);\nvar TendenciaCandlesMedia = candles.getTendencia(lastbar+1 ,5);\nvar TendenciaCandlesForte = candles.getTendencia(lastbar+1 ,7);\n\nvar AlturaCandle = (CorpoCandle1 > CorpoCandle2);\n//EngulfingFull = 0\nvar SegundoCandle = ( (candles.Close(lastbar+1) < candles.Open(lastbar+1)) || (myDoji == 1) ) && ((candles.Open(lastbar+1) < candles.Close) && (candles.Open(lastbar+1) > candles.Open(lastbar))) && ((candles.Close(lastbar+1) > candles.Open(lastbar)) && (candles.Close(lastbar+1) < candles.Close(lastbar)));\nvar PrimeiroCandle = (candles.Open(lastbar) < candles.Close(lastbar+1)) && (candles.Close(lastbar) > candles.Open(lastbar+1)) && AlturaCandle;\n\nif(SegundoCandle && PrimeiroCandle) {\n	result = 2;\n	if(TendenciaCandlesMinima==0) {\n		result = 2.10;\n	}\n	if(TendenciaCandlesMedia==0) {\n		result = 2.30;\n	}\n	if(TendenciaCandlesForte==0) {\n		result = 2.50;\n	}\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n','Bullish Engulfing','Engolfo de alta (Bullish Engulfing)\n\nDescriÃ§Ã£o : A cor do candle do primeiro dia reflete a tendÃªncia de baixa, no entando pode ser uma doji.\nNo segundo dia um enorme candle engolfa o primeiro.\n\nPsicologia\n\nO padrÃ£o Ã© mais forte caso nÃ£o ocorra muito volume no primeiro dia.\nSegundo dia abre em gap de baixa, abaixo do fechamento do primeiro dia,no entanto rapidamente fecha acima da abertura do dia anterior. Com isto os vendedores trazem em questÃ£o a real tendÃªncia de baixa dos preÃ§os e os alertam para uma forte reversÃ£o da tendÃªncia pois,caso confirmado, os compradores irÃ£o dominar nos prÃ³ximos dias.\n\nTipo : BULLISH/ALTA REVERSÃƒO','result',''),
 (42,'function applyScript(candles, json, lastbar, script, input) {\n\n    var result = 0;\n\n    //  Engolfo de alta\n    var CorpoCandle1 = candles.getCandleSize(lastbar, 1, 0);\n    var CorpoCandle2 = candles.getCandleSize(lastbar + 1, 1, 0);\n\n    var myDoji = candles.Doji(lastbar + 1);\n    var TendenciaCandlesMinima = candles.getTendencia(lastbar + 1, 1);\n    var TendenciaCandlesMedia = candles.getTendencia(lastbar + 1, 4);\n    var TendenciaCandlesForte = candles.getTendencia(lastbar + 1, 7);\n\n    var AlturaCandle = (CorpoCandle1 > CorpoCandle2);\n    //EngulfingFull = 0\n    var SegundoCandle = ((candles.Close(lastbar + 1) > candles.Open(lastbar + 1)) || (myDoji == 1));\n\n    var PrimeiroCandle = ((candles.Close(lastbar + 1) < candles.Open(lastbar)) && (candles.Close(lastbar + 1) > candles.Close(lastbar))) && ((candles.Open(lastbar + 1) < candles.Open(lastbar)) && (candles.Open(lastbar + 1) > candles.Close(lastbar))) && AlturaCandle;\n\n    if (SegundoCandle && PrimeiroCandle) {\n        // result = -2\n        if (TendenciaCandlesMinima == 1) {\n            result = -2.10;\n        }\n        if (TendenciaCandlesMedia == 1) {\n            result = -2.30;\n        }\n        if (TendenciaCandlesForte == 1) {\n            result = -2.50;\n        }\n\n    }\n\n    json.put(\"result\", result);\n    return json;\n\n}\n','Bearish Engulfing','Engolfo de baixa (Bearish Engulfing)\n\nDescriÃ§Ã£o : A cor do candle do primeiro dia reflete a tendÃªncia de baixa, no entando pode ser uma doji.\nNo segundo dia um enorme candle engolfa o primeiro.\n\nPsicologia\n\nO padrÃ£o Ã© mais forte caso nÃ£o ocorra muito volume no primeiro dia.\nSegundo dia abre em gap de baixa, abaixo do fechamento do primeiro dia,no entanto rapidamente fecha acima da abertura do dia anterior. Com isto os vendedores trazem em questÃ£o a real tendÃªncia de baixa dos preÃ§os e os alertam para uma forte reversÃ£o da tendÃªncia pois,caso confirmado, os compradores irÃ£o dominar nos prÃ³ximos dias.\n\nTipo : BULLISH/ALTA REVERSÃƒO','result',''),
 (43,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// Estrela da manha (Bearish Evening Star)\n\n// candles.getCandleSize(Numero Candle, Corpo(1) / Sombra(2), Alta(1) / Baixa(2), Sombra Superior ou Inferior (1,2) ]\n\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nSombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nSombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\nvar CorpoCandle3 = candles.getCandleSize(lastbar+2 ,1 ,0);\nvar SombraSup3 = candles.getCandleSize(lastbar+2 ,2 ,1);\nvar SombraInf3 = candles.getCandleSize(lastbar+2 ,2 ,2);\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+2,lastbar+3);\n\nvar TerceiroCandleBaixa = (candles.Close(lastbar+2) < candles.Open(lastbar+2)) && (CorpoCandle3 > (SombraSup3+SombraInf3));\n\nvar SegundoCandleGAP = ((CorpoCandle2*2) < CorpoCandle3) && ((candles.Open(lastbar+1) < candles.Close(lastbar+2)) && (candles.Close(lastbar+1) < candles.Close(lastbar+2))) &&  ((candles.Open(lastbar+1) < candles.Open(lastbar)) && (candles.Close(lastbar+1) < candles.Open(lastbar))) && (SombraSup2 > SombraInf2);\n\nvar PrimeiroCandleAlta = (candles.Close(lastbar) >= candles.Open(lastbar+2)) && (candles.Open < candles.Close(lastbar+2)) && (CorpoCandle1 > CorpoCandle2); \n\nvar EstrelaDaManha = TerceiroCandleBaixa && SegundoCandleGAP && PrimeiroCandleAlta && (TendenciaUltimosCandles==0);\n\nif (EstrelaDaManha) {\n	result = 5;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n','Bullish Morning Star','Estrela da manhÃ£ (Bullish Morning Star)\n\nDescriÃ§Ã£o : Primeiro dia com os preÃ§os em forte baixa.\nSegundo dia abre em gap de baixa abaixo do preÃ§o de fechamento do dia anterior.\nTerceiro dia Ã© completamente dominado pelos compradores.\n\nPsicologia\n\nApesar da nova mÃ­nima do segundo dia e do seu gap de baixa, note a pouca variaÃ§Ã£o dos preÃ§os no dia. A IndecisÃ£o da tendÃªncia de baixa Ã© confirmada com o preÃ§o de fechamento do terceiro dia. Revertendo a tendÃªncia de baixa sendo assim compradores entram no domÃ­nio da nova tendÃªncia esperando-se novas altas para os prÃ³ximo dias.\n\nTipo :      BULLISH/ALTA REVERSÃƒO','result',''),
 (44,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// Doji Estrela da noite (Bearish Evening Doji Star)\n\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0);\nvar SombraSup1 = candles.getCandleSize(lastbar ,2 ,1);\nvar SombraInf1 = candles.getCandleSize(lastbar ,2 ,2);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\n\nvar CorpoCandle3 = candles.getCandleSize(lastbar+2 ,1 ,0);\nvar SombraSup3 = candles.getCandleSize(lastbar+2 ,2 ,1);\nvar SombraInf3 = candles.getCandleSize(lastbar+2 ,2 ,2);\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+2,3);\n\nvar TerceiroCandleAlta = (candles.Close(lastbar+2) > candles.Open(lastbar+2)) && (CorpoCandle3 > (SombraSup3+SombraInf3));\n\nvar SegundoCandleGAP =((candles.Open(lastbar+1) > candles.Close(lastbar+2)) && (candles.Close(lastbar+1) > candles.Close(lastbar+2))) &&  ((candles.Open(lastbar+1) > candles.Open(lastbar)) && (candles.Close(lastbar+1) > candles.Open(lastbar))) && (candles.Low(lastbar+1) > candles.High(lastbar+2)) && (CorpoCandle2 < CorpoCandle3) && (CorpoCandle2 < CorpoCandle1);\n\nvar PrimeiroCandleBaixa = (candles.Open(lastbar) > candles.Close(lastbar)) && (candles.Open(lastbar) >= candles.Open(lastbar+2)) && (candles.Open(lastbar) > candles.Close(lastbar+2)) && (CorpoCandle1 > SombraSup1+SombraInf1);\n\nvar EstrelaDaNoite = TerceiroCandleAlta && SegundoCandleGAP && PrimeiroCandleBaixa;\n\nif (EstrelaDaNoite) {\n	result = -5;\nif (TendenciaUltimosCandles==1) {\n	result = -5.30;\n}\n\nif ((candles.Close(lastbar+2) < candles.Open(lastbar) ) && (candles.Close(lastbar+2) > candles.Close(lastbar))) {\nresult = -5.5;\n}\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n','Bearish Evening Star','No primeiro dia forma-se um candle de alta. O segundo dia abre com um candle de corpo pequeno, seja de alta ou de baixa. No terceiro dia forma-se um candle de baixa, na posiÃ§Ã£o inferior ao candle anterior.\n\n\nInterpretaÃ§Ã£o\n\nEm uma tendÃªncia de alta, o mercado sinaliza a forÃ§a dos compradores atravÃ©s do primeiro candle de alta e do gap do segundo dia formado pelo candle de corpo pequeno. No entanto, durante o dia as forÃ§as se equilibram, fazendo com que a abertura permaneÃ§a prÃ³xima ao fechamento, mostrando uma quebra na tendÃªncia de alta. A confirmaÃ§Ã£o mostra-se no dia seguinte com um candle de baixa formando-se abaixo do candle anterior.\n\n\nDica\n\nQuanto maior for o Ãºltimo candle (de baixa), mais significativo serÃ¡ o sinal. \n\n-5  Estrela da noite\n-5.5 Estrela da noite Confirmado','result',''),
 (45,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n//  Harami cruz de alta (Bearish Harami Cross)\n\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0);\nvar SombraSup1 = candles.getCandleSize(lastbar ,2 ,1);\nvar SombraInf1 = candles.getCandleSize(lastbar ,2 ,2);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+1,3);\n\nvar CandleDoji = candles.Doji(lastbar);\n\nSegundoCandleBaixa = (candles.Open(lastbar+1) > candles.Close(lastbar+1)) && (CorpoCandle2 > CorpoCandle1) && ( CorpoCandle2 > (SombraSup2+SombraInf2) );\n\nPrimeiroCandleGAP = CandleDoji && ((candles.Close(lastbar) > candles.Close(lastbar+1)) && (candles.Close(lastbar) < candles.Open(lastbar+1))) && (candles.Open(lastbar) > candles.Close(lastbar+1)) && (candles.Open(lastbar) < candles.Open(lastbar+1)) && (SombraInf1 < (SombraSup1+CorpoCandle1)*2);\n\nHaramiCrossAlta = (TendenciaUltimosCandles==0) && SegundoCandleBaixa && PrimeiroCandleGAP;\n\nif (HaramiCrossAlta) {\n	result = 10;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n\n','Bullish Harami Cross','Harami cruz de alta (Bullish Harami Cross)\n\nDescriÃ§Ã£o : Primeiro dia onde os preÃ§os sofrem uma grande baixa.\nSegundo dia Ã© uma doji que Ã© engolfada pelo candle anterior.\n\nPsicologia\n\nO candle do segundo dia ,doji ,nÃ£o penetra a mÃ¡xima e a mÃ­nima do dia anterior e fecha exatamente aonde abriu.Volume no segundo Ã© bem abaixo da mÃ©dia o que indica falta de forÃ§a vendedora para continuar a tendÃªncia de baixa.\n\nTipo : BULLISH/ALTA REVERSÃƒO','result',''),
 (46,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n//  Harami cruz de baixa (Bearish Harami Cross)\n\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+1,3);\n\nvar CandleDoji = candles.Doji(lastbar);\n\nvar SegundoCandleBaixa = (candles.Open(lastbar+1) < candles.Close(lastbar+1)) && (CorpoCandle2 > CorpoCandle1) && ( CorpoCandle2 > (SombraSup2+SombraInf2) );\n\nvar PrimeiroCandleGAP = CandleDoji && ((candles.Close(lastbar) > candles.Open(lastbar+1)) && (candles.Close(lastbar) < candles.Close(lastbar+1))) && (candles.Open(lastbar) > candles.Open(lastbar+1)) && (candles.Open(lastbar) < candles.Close(lastbar+1));\n\nvar HaramiCrossBaixa = (TendenciaUltimosCandles==1) && SegundoCandleBaixa && PrimeiroCandleGAP;\n\nif (HaramiCrossBaixa) {\n	result = -10;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n','Bearish Harami Cross','Harami cruz de baixa (Bearish Harami Cross)\n\nDescriÃ§Ã£o : Primeiro dia onde os preÃ§os sofrem uma grande alta.\nSegundo dia Ã© uma doji que Ã© engolfada pelo candle anterior.\n\nPsicologia\n\nO candle do segundo dia ,doji ,nÃ£o penetra a mÃ¡xima e a mÃ­nima do dia anterior e fecha exatamente aonde abriu.Volume no segundo Ã© bem abaixo da mÃ©dia o que indica falta de forÃ§a compradora para continuar a tendÃªncia de alta.\n\nTipo : BEARISH/BAIXA REVERSÃƒO','result',''),
 (47,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// Harami Pattern (Bullish Harami)\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+2,lastbar+5);\n\nvar SegundoCandleBaixa = (candles.Open(lastbar+1) > candles.Close(lastbar+1)) && ( CorpoCandle2 > (SombraSup2+SombraInf2) );\n\nvar PrimeiroCandle = ((candles.Open(lastbar) > candles.Open(lastbar+1)) && (candles.Close(lastbar) > candles.Open(lastbar+1)))  && ((candles.Open(lastbar) < candles.Close(lastbar+1)) && (candles.Close(lastbar) < candles.Close(lastbar+1)));\n\nvar HaramiPattern = (TendenciaUltimosCandles==0) && SegundoCandleBaixa && PrimeiroCandle;\n\nif (HaramiPattern) {\n	result = 10;\n}\n\n//=================================================================================\n// Harami Pattern (Bearish Harami)\n// Devo corrigir uma falha no papel Mediaset do dia 28/04/2009 que sinaliza uma baixa mas no dia seguinte Ã© uma alta\nvar SegundoCandleBaixa = (candles.Open(lastbar+1) < candles.Close(lastbar+1)) && ( CorpoCandle2 > (SombraSup2+SombraInf2) );\n\nvar HaramiPattern = (TendenciaUltimosCandles==1) && SegundoCandleBaixa && PrimeiroCandle;\n\nif (HaramiPattern) {\n	result = -10;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n','Bullish Harami','Harami de alta (Bullish Harami)\n\nPrimeiro dia onde os preÃ§os sofrem uma grande baixa.\nSegundo dia Ã© uma estrela que Ã© engolfada pelo candle anterior.\n\nPsicologia\n\nO candle do segundo dia ,estrela ,nÃ£o penetra a mÃ¡xima e a mÃ­nima do dia anterior.Volume no segundo Ã© bem abaixo da mÃ©dia o que indica falta de forÃ§a vendedora para continuar a tendÃªncia de baixa.Observe a mudanÃ§a da tendÃªncia sendo confirmada caso os preÃ§os fechem acima da mÃ¡xima do primeiro dia principalmente se esse rompimento for no dia seguinte a estrela.\n\nTipo : BULLISH/ALTA REVERSÃƒO','result',''),
 (48,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// Bearish Harami\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+2,lastbar+5);\n\nvar PrimeiroCandle = ((candles.Open(lastbar) > candles.Open(lastbar+1)) && (candles.Close(lastbar) > candles.Open(lastbar+1)))  && ((candles.Open(lastbar) < candles.Close(lastbar+1)) && (candles.Close(lastbar) < candles.Close(lastbar+1)));\n\nvar SegundoCandleBaixa = (candles.Open(lastbar+1) < candles.Close(lastbar+1)) && ( CorpoCandle2 > (SombraSup2+SombraInf2) );\n\nvar HaramiPattern = (TendenciaUltimosCandles==1) && SegundoCandleBaixa && PrimeiroCandle;\n\nif (HaramiPattern) {\n	result = -10;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n','Bearish Harami','Harami de baixa (Bearish Harami)\n\nDescriÃ§Ã£o : Primeiro dia onde os preÃ§os sofrem uma grande alta.\nSegundo dia Ã© uma estrela que Ã© engolfada pelo candle anterior.\n\nPsicologia\n\nO candle do segundo dia, estrela, nÃ£o penetra a mÃ¡xima e a mÃ­nima do dia anterior.Volume no segundo Ã© bem abaixo da mÃ©dia o que indica falta de forÃ§a compradora para continuar a tendÃªncia de alta.Observe a mudanÃ§a da tendÃªncia sendo confirmada caso os preÃ§os fechem abaixo da mÃ­nima do primeiro dia principalmente se esse rompimento for no dia seguinte a estrela.\n\nTipo : BEARISH/BAIXA REVERSÃƒO','result',''),
 (49,'function applyScript(candles, json, lastbar, script, input) {\n\n    var result = 0;\n\n    var CorpoCandle1 = candles.getCandleSize(lastbar, 1, 0)\n    var SombraSup1 = candles.getCandleSize(lastbar, 2, 1);\n    var SombraInf1 = candles.getCandleSize(lastbar, 2, 2);\n\n    var CorpoCandle2 = candles.getCandleSize(lastbar + 1, 1, 0);\n    var SombraSup2 = candles.getCandleSize(lastbar + 1, 2, 1);\n    var SombraInf2 = candles.getCandleSize(lastbar + 1, 2, 2);\n\n    //=================================================================================\n    // Martelo invertido (Bullish Inverted Hammer)\n    var TendenciaUltimosCandles = candles.getTendencia(lastbar, lastbar + 4);\n\n    var PrimeiroCandleGAPBaixa = ((candles.Close(lastbar) < candles.Close(lastbar + 1)) && (candles.Open(lastbar) < candles.Close(lastbar + 1))) && ((candles.Close(lastbar) < candles.Open(lastbar + 1)) && (candles.Open(lastbar) < candles.Open(lastbar + 1))) && (SombraSup1 > (SombraInf1 * 2.5)) && (CorpoCandle1 < (SombraSup1 + SombraInf1));\n\n    var PrimeiroCandleLungaSombra = (SombraSup1 > ((CorpoCandle1 + SombraInf1) * 3));\n\n    var InvertedHammer = PrimeiroCandleGAPBaixa && (TendenciaUltimosCandles == 0) && PrimeiroCandleLungaSombra;\n\n    if (InvertedHammer) {\n        result = 13;\n    }\n\n    //=================================================================================\n    // Martelo invertido (Bullish Inverted Hammer) Confirmado\n    var TendenciaUltimosCandles = candles.getTendencia(lastbar + 1, lastbar + 5);\n\n    var SegundoCandleGAPBaixa = ((candles.Close(lastbar + 1) < candles.Close(lastbar + 2)) && (candles.Open(lastbar + 1) < candles.Close(lastbar + 2))) && ((candles.Close(lastbar + 1) < candles.Open(lastbar + 2)) && (candles.Open(lastbar + 1) < candles.Open(lastbar + 2))) && (SombraSup2 > (SombraInf2 * 2.5)) && (CorpoCandle2 < (SombraSup2 + SombraInf2));\n\n    PrimeiroCandleGAPAlta = (candles.Open(lastbar) > candles.Close(lastbar + 1)) && (candles.Open(lastbar) > candles.Open(lastbar + 1)) && (candles.Close(lastbar) > candles.Close(lastbar + 1)) && (candles.Close(lastbar) > candles.Open(lastbar + 1)) && (CorpoCandle1 > (SombraSup1 + SombraInf1));\n\n    SegundoCandleLungaSombra = (SombraSup2 > ((CorpoCandle2 + SombraInf2) * 3));\n\n    InvertedHammer = SegundoCandleGAPBaixa && PrimeiroCandleGAPAlta && (TendenciaUltimosCandles == 0) && SegundoCandleLungaSombra;\n\n    if (InvertedHammer) {\n        result = 13.5;\n    }\n\n    json.put(\"result\", result);\n    return json;\n\n}\n','Bullish Inverted Hammer','Martelo invertido (Bullish Inverted Hammer)\n\nDescriÃ§ao: InformaÃ§oes colhida do livro Candlestick de Steve Nisson, pagina 75','result',''),
 (50,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// Martelo (Bullish Hammer)\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1, 2 ,2);\n\nLarguraCandle2 = candles.getCandleSize(lastbar+1,3,0);   \n\nvar percLargCandle2 = 100 - Math.abs(((CorpoCandle2 / LarguraCandle2)*100)-100);\n\nvar CandlesTendencia = candles.getTendencia(lastbar+1 ,3);\n\nvar Martelo = (candles.Open(lastbar+1)!=candles.Close(lastbar+1)) && ((percLargCandle2 >10) && (percLargCandle2 <= 30)) &&  ( (SombraInf2 > CorpoCandle2*2) && ((SombraSup2 / (SombraInf2+CorpoCandle2) ) < 0.10) ) && (candles.Close(lastbar) > candles.Close(lastbar+1)) && (CandlesTendencia==0);\n\nif (Martelo) {\nresult=12;\n}\n\n\njson.put(\"result\",result);\nreturn json;\n\n}','Bullish Hammer','Martelo (Bullish Hammer)\n\nDescriÃ§Ã£o : Candle formado por um candle de corpo pequeno e longa sombra, a cor do candle nÃ£o importa.\nLonga sombra formada, duas vezes maior que o corpo do candle, com nenhuma ou mÃ­nima sombra superior.\nA tendÃªncia obrigatoriamente deve ser de baixa.\n\nPsicologia\n\nComo qualquer candle Ãºnico, confirmaÃ§Ã£o Ã© obrigatÃ³ria para o candle funcionar.\nEsta formaÃ§Ã£o apresenta uma grande forÃ§a vendedora fazendo mÃ­nimas cada vez mais fortes no candle presente porÃ©m o mesmo reverte e fecha perto da abertura do dia.\nEsse fato tira a certeza dos vendidos que estÃ£o sobre controle. Para a confirmaÃ§Ã£o do candle, seria bom o candle seguinte abrir  maior que a mÃ¡xima do dia anterior e o fechamento apresentando forÃ§a total dos compradores.\n\nTipo : BULLISH/ALTA REVERSÃƒO','result',''),
 (51,'\nfunction applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// Nuvens Negras -Dark Clouds (Bearish Dark Cloud Cover)\n\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0)\nvar SombraSup1 = candles.getCandleSize(lastbar ,2 ,1);\nvar SombraInf1 = candles.getCandleSize(lastbar ,2 ,2);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\nvar range50percCandle1 = ((Math.abs(candles.Close(lastbar+1) - candles.Open(lastbar+1)) / 100) * 50); //Retorna o valor do preÃ§o que representa 50%\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+1,lastbar+4);\n\nvar SegundoCandleAlta = (candles.Open(lastbar+1) < candles.Close(lastbar+1)) && ( CorpoCandle2 > (SombraSup2+SombraInf2) )\n\nvar PrimeiroCandleBaixa = ( CorpoCandle1 > (SombraSup1+SombraInf1) ) && ((candles.Open(lastbar) > candles.Close(lastbar+1)) && (candles.Close(lastbar) > candles.Open(lastbar+1))) && (candles.Open(lastbar) > candles.Close(lastbar)) && (candles.Close(lastbar) < candles.Close(lastbar+1) - range50percCandle1); //&& (candles.Low(lastbar) > candles.Open(lastbar+1))\n\nvar NuvensNegras = (TendenciaUltimosCandles==1) && SegundoCandleAlta && PrimeiroCandleBaixa\n\nif (NuvensNegras) {\nresult = -11;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n','Bearish Dark Cloud Cover','Nuvens Negras -Dark Clouds (Bearish Dark Cloud Cover)\n\nDescriÃ§Ã£o : Primeiro dia Ã© completamente dominado pela forÃ§a compradora.\nSegundo dia abre com gap de alta acima da mÃ¡xima do dia anterior, porÃ©m fecha o dia abaixo da metade do corpo do candle do dia anterior.\n\nPsicologia\n\nCom o forte dia de comprados dominando e com o gap de alta no segundo dia, cada vez mais apresenta um cenÃ¡rio onde os comprados estÃ£o confiantes. No entanto, o segundo dia fecha o gap de alta e invade metade do corpo do candle anterior sendo assim colocando em xeque sua tendÃªncia de alta.\n\nTipo : BEARISH/BAIXA REVERSÃƒO','result',''),
 (52,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// Nuvens Negras -Dark Clouds (Bearish Dark Cloud Cover)\n\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0);\nvar SombraSup1 = candles.getCandleSize(lastbar ,2 ,1);\nvar SombraInf1 = candles.getCandleSize(lastbar ,2 ,2);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+1,lastbar+4);\nvar range50percCandle2 = ((Math.abs(candles.Open(lastbar+1) - candles.Close(lastbar+1)) / 100) * 40); //Retorna o valor do preÃ§o que representa 50%\n\nvar SegundoCandleAlta = (candles.Open(lastbar+1) > candles.Close(lastbar+1)) && ( CorpoCandle2 > (SombraSup2+SombraInf2) );\n\nvar PrimeiroCandleBaixa = ( CorpoCandle1 > (SombraSup1+SombraInf1) ) && ((candles.Open(lastbar) < candles.Close(lastbar+1)) && (candles.Close(lastbar) >= candles.Close(lastbar+1))) && (candles.Open(lastbar) < candles.Close(lastbar)) && (candles.Close(lastbar) < candles.Close(lastbar+1) + range50percCandle2); //&& (candles.Low(lastbar) > candles.Open(lastbar+1))\n\nvar OnNeckPattern = (TendenciaUltimosCandles==0) && SegundoCandleAlta && PrimeiroCandleBaixa;\n\nif (OnNeckPattern) {\nresult = -14;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n\n\n\n','Bearish On/In-Neck & Thrusting Pattern','On/In-Neck & Thrusting Pattern\n\nDescriÃ§Ã£o : Uma variaÃ§ao do pattern Nuvens Negras, sendo que representa uma tendencia de queda.\n\nPsicologia\n\nTipo : BEARISH/ALTA REVERSÃƒO','result',''),
 (54,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// Nuvens Negras -Dark Clouds (Bearish Dark Cloud Cover)\n\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0)\nvar SombraSup1 = candles.getCandleSize(lastbar ,2 ,1);\nvar SombraInf1 = candles.getCandleSize(lastbar ,2 ,2);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+1,lastbar+4);\nvar range50percCandle2 = ((Math.abs(candles.Open(lastbar+1) - candles.Close(lastbar+1)) / 100) * 40); //Retorna o valor do preÃ§o que representa 50%\n\nvar SegundoCandleAlta = (candles.Open(lastbar+1) > candles.Close(lastbar+1)) && ( CorpoCandle2 > (SombraSup2+SombraInf2) );\n\nvar PrimeiroCandleBaixa = ( CorpoCandle1 > (SombraSup1+SombraInf1) ) && ((candles.Open(lastbar) < candles.Close(lastbar+1)) && (candles.Close(lastbar) >= candles.Close(lastbar+1))) && (candles.Open(lastbar) < candles.Close(lastbar)) && (candles.Close(lastbar) < candles.Close(lastbar+1) + range50percCandle2); \n\nvar OnNeckPattern = (TendenciaUltimosCandles==0) && SegundoCandleAlta && PrimeiroCandleBaixa;\n\nif (OnNeckPattern) {\nresult = -14;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n\n','Bearish On-Neck Pattern','On-Neck Pattern\n\nDescriÃ§Ã£o : Uma variaÃ§ao do pattern Nuvens Negras, sendo que representa uma tendencia de queda\n\nPsicologia\n\nTipo : BEARISH/ALTA REVERSÃƒO','result',''),
 (55,'function applyScript(candles, json, lastbar, script, input) {\n\n    var result = 0;\n\n    var CorpoCandle1 = candles.getCandleSize(lastbar, 1, 0);\n    var SombraSup1 = candles.getCandleSize(lastbar, 2, 1);\n    var SombraInf1 = candles.getCandleSize(lastbar, 2, 2);\n\n    var CorpoCandle2 = candles.getCandleSize(lastbar + 1, 1, 0);\n    var SombraSup2 = candles.getCandleSize(lastbar + 1, 2, 1);\n    var SombraInf2 = candles.getCandleSize(lastbar + 1, 2, 2);\n\n    var range50percCandle2 = ((Math.abs(candles.Open(lastbar + 1) - candles.Close(lastbar + 1)) / 100) * 50); //Retorna o valor do preÃ§o que representa 50%\n    var TendenciaUltimosCandles = candles.getTendencia(lastbar + 1, 4);\n\n    var SegundoCandleAlta = (candles.Open(lastbar + 1) > candles.Close(lastbar + 1)) && (CorpoCandle2 > (SombraSup2 + SombraInf2));\n\n    var PrimeiroCandleBaixa = (CorpoCandle1 > (SombraSup1 + SombraInf1)) && ((candles.Open(lastbar) < candles.Close(lastbar + 1)) && (candles.Close(lastbar) < candles.Open(lastbar + 1))) && (candles.Open(lastbar) < candles.Close(lastbar)) && (candles.Close(lastbar) >= candles.Open(lastbar + 1) - range50percCandle2); //&& (candles.Low(lastbar) > candles.Open(lastbar+1))\n    var BullishPiercing = SegundoCandleAlta && PrimeiroCandleBaixa;\n\n    if (BullishPiercing) {\n        result = 14;\n        if (TendenciaUltimosCandles == 0) {\n            result = 14.5;\n        }\n\n    }\n\n    json.put(\"result\", result);\n    return json;\n\n}\n','Bullish Piercing Line','PadrÃ£o Piercing\n(Bullish Piercing Line)\n\nDescriÃ§Ã£o : Primeiro dia Ã© completamente dominado pela forÃ§a vendedora.\nSegundo dia abre com gap de baixa abaixo da mÃ­nima do dia anterior, porÃ©m fecha o dia acima da metade do corpo do candle do dia anterior.\n\nPsicologia\n\nCom o forte dia de vendidos dominando e com o gap de baixa no segundo dia, cada vez mais apresenta um cenÃ¡rio onde os vendidos estÃ£o confiantes. No entanto, o segundo dia fecha o gap de baixa e invade metade do corpo do candle anterior sendo assim colocando em xeque sua tendÃªncia de baixa.\n\nTipo : BULLISH/ALTA REVERSÃƒO','result',''),
 (56,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// PadrÃ£o Piercing (Bullish Piercing Line)\n\n//var CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0)\n//var SombraSup1 = candles.getCandleSize(lastbar ,2 ,1);\n//var SombraInf1 = candles.getCandleSize(lastbar ,2 ,2);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\nvar CorpoCandle3 = candles.getCandleSize(lastbar+2 ,1 ,0);\nvar SombraSup3 = candles.getCandleSize(lastbar+2 ,2 ,1);\nvar SombraInf3 = candles.getCandleSize(lastbar+2,2 ,2);\n\nvar ValorMetadeCandle2 = ((candles.Open(lastbar+2) - candles.Close(lastbar+2))/2)+candles.Close(lastbar+2);\n\nvar CandleValidation = candles.Close(lastbar+1) > ValorMetadeCandle2;\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+2,lastbar+4);\n\nvar TerceiroCandleBaixa = (candles.Open(lastbar+2) > candles.Close(lastbar+2)) && ( CorpoCandle3 > (SombraSup3+SombraInf3) );\n\nvar SegundoCandleAlta = ((candles.Close(lastbar+1) > candles.Close(lastbar+2)) && (candles.Close(lastbar+1) < candles.Open(lastbar+2)) && (candles.Open(lastbar+1) < candles.Close(lastbar+2)) )  &&  ( CorpoCandle2 > (SombraSup2+SombraInf2) ) && CandleValidation;\n\nvar PrimeiroCandleAlta = (candles.Close(lastbar) > candles.Close(lastbar+1))\n\nvar CandleValidation = (TendenciaUltimosCandles==0) && TerceiroCandleBaixa && SegundoCandleAlta && PrimeiroCandleAlta\n\nif (CandleValidation) {\nresult = 14.5;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n\n','Bullish Piercing Line Approval','PadrÃ£o Piercing\n(Bullish Piercing Line)\n\nDescriÃ§Ã£o : Primeiro dia Ã© completamente dominado pela forÃ§a vendedora.\nSegundo dia abre com gap de baixa abaixo da mÃ­nima do dia anterior, porÃ©m fecha o dia acima da metade do corpo do candle do dia anterior.\n\nPsicologia\n\nCom o forte dia de vendidos dominando e com o gap de baixa no segundo dia, cada vez mais apresenta um cenÃ¡rio onde os vendidos estÃ£o confiantes. No entanto, o segundo dia fecha o gap de baixa e invade metade do corpo do candle anterior sendo assim colocando em xeque sua tendÃªncia de baixa.\n\nTipo : BULLISH/ALTA REVERSÃƒO','result',''),
 (57,'function applyScript(candles, json, lastbar, script, input) {\n\nvar result = 0;\n\n//=================================================================================\n// Piercing no pescoÃ§o (Bearish In-Neck)\n\nvar CorpoCandle1 = candles.getCandleSize(lastbar ,1 ,0);\nvar SombraSup1 = candles.getCandleSize(lastbar ,2 ,1);\nvar SombraInf1 = candles.getCandleSize(lastbar ,2 ,2);\n\nvar CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\nvar SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\nvar SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n\nvar TendenciaUltimosCandles = candles.getTendencia(lastbar+1,3);\n\nvar SegundoCandleBaixa = (candles.Open(lastbar+1) > candles.Close(lastbar+1)) && ( CorpoCandle2 > (SombraSup2+SombraInf2) );\n\nvar rangeMaximo = (((candles.Open(lastbar+1) - candles.Close(lastbar+1)) / 100) * 20); //Retorna o valor do preÃ§o que representa 10%\n\nvar PrimeiroCandleAlta = (candles.Close(lastbar) > candles.Open(lastbar)) && ((candles.Close(lastbar) < (candles.Close(lastbar+1) + rangeMaximo)) && (candles.Close(lastbar) > (candles.Close(lastbar+1) - rangeMaximo)) ) &&  ( CorpoCandle1 > (SombraSup1+SombraInf1) );\n\nvar PadraoPiercing = (TendenciaUltimosCandles==0) && SegundoCandleBaixa && PrimeiroCandleAlta;\n\nif (PadraoPiercing) {\nresult = 15;\n}\n\njson.put(\"result\",result);\nreturn json;\n\n}\n\n','Bearish In-Neck','Piercing no pescoÃ§o (Bearish In-Neck)\n\nDescriÃ§Ã£o : Primeiro dia com forÃ§a vendedora dominando.\nSegundo dia abre abaixo da mÃ­nima do dia anterior e a forÃ§a compradora domina o movimento fechando no ponto de fechamento do dia anterior.\n\nPsicologia\n\nSemelhante a formaÃ§Ã£o (Bearish On Neck), exceto que a tendÃªncia de baixa nÃ£o deve seguir tÃ£o rapidamente.\n\nTipo : BEARISH/BAIXA CONTINUAÃ‡ÃƒO','result','');
INSERT INTO `scripts` (`id`,`script`,`name`,`descr`,`param`,`settingchart`) VALUES 
 (58,'function applyScript(candles, json, lastbar, script, input) {\n\n    var result = 0;\n\n    //=================================================================================\n    // Piercing perto do pescoÃ§o (Bearish On-Neck)\n    var CorpoCandle1 = candles.getCandleSize(lastbar, 1, 0);\n    var SombraSup1 = candles.getCandleSize(lastbar, 2, 1);\n    var SombraInf1 = candles.getCandleSize(lastbar, 2, 2);\n\n    var CorpoCandle2 = candles.getCandleSize(lastbar + 1, 1, 0);\n    var SombraSup2 = candles.getCandleSize(lastbar + 1, 2, 1);\n    var SombraInf2 = candles.getCandleSize(lastbar + 1, 2, 2);\n    var TendenciaUltimosCandles = candles.getTendencia(lastbar + 1, lastbar + 3);\n\n    var SegundoCandleBaixa = (candles.Open(lastbar + 1) > candles.Close(lastbar + 1)) && (CorpoCandle2 > (SombraSup2 + SombraInf2));\n\n    var rangeMaximo = (((candles.High(lastbar + 1) - candles.Low(lastbar + 1)) / 100) * 18); //Retorna o valor do preÃ§o que representa 10%\n    var PrimeiroCandleAlta = (candles.Close(lastbar) > candles.Open(lastbar)) && ((candles.Close(lastbar) < (candles.Low(lastbar + 1) + rangeMaximo)) && (candles.Close(lastbar) > (candles.Low(lastbar + 1) - rangeMaximo))) && (CorpoCandle1 > (SombraSup1 + SombraInf1));\n\n    var CandleValidation = (TendenciaUltimosCandles == 0) && SegundoCandleBaixa && PrimeiroCandleAlta;\n\n    if (CandleValidation) {\n        result = 16;\n    }\n\n    json.put(\"result\", result);\n    return json;\n\n}\n','Bearish On-Neck','Piercing perto do pescoÃ§o (Bearish On-Neck)\n\nDescriÃ§Ã£o : Primeiro dia Ã© completamente dominado pela forÃ§a vendedora.\nSegundo dia abre com gap de baixa e fecha na mÃ­nima do dia anterior.\n\nPsicologia\n\nSegundo dia nÃ£o apresenta forÃ§as para romper a mÃ­nima do dia seguinte para assim romper a tendÃªncia de baixa, com isso causa desconforto nos comprados que entraram na operaÃ§Ã£o no segundo dia. TendÃªncia de baixa deve continuar nos dias seguintes.\n\nTipo : BEARISH/BAIXA CONTINUAÃ‡ÃƒO','result',''),
 (59,'function applyScript(candles, json, lastbar, script, input) {\n\n    var result = 0;\n\n    //=================================================================================\n    // Martelo invertido (Bullish Inverted Hammer)\n    var CorpoCandle1 = candles.getCandleSize(lastbar, 1, 0);\n    var SombraSup1 = candles.getCandleSize(lastbar, 2, 1);\n    var SombraInf1 = candles.getCandleSize(lastbar, 2, 2);\n\n    //var CorpoCandle2 = candles.getCandleSize(lastbar+1 ,1 ,0);\n    //var SombraSup2 = candles.getCandleSize(lastbar+1 ,2 ,1);\n    //var SombraInf2 = candles.getCandleSize(lastbar+1 ,2 ,2);\n    var TendenciaUltimosCandles = candles.getTendencia(lastbar + 1, lastbar + 3);\n\n    var SegundoCandle = (candles.Open(lastbar + 1) < candles.Close(lastbar + 1)) //&& ( CorpoCandle2 > (SombraSup2+SombraInf2) )\n    var PrimeiroCandleGAPAlta = (candles.Close(lastbar) > candles.Close(lastbar + 1)) && (candles.Open(lastbar) > candles.Close(lastbar + 1)) && (SombraSup1 > (SombraInf1 * 2.5)) && (CorpoCandle1 < (SombraSup1 + SombraInf1));\n\n    var PrimeiroCandleLungaSombra = (SombraSup1 > ((CorpoCandle1 + SombraInf1) * 4));\n\n    var ShootingStar = SegundoCandle && PrimeiroCandleGAPAlta; //(TendenciaUltimosCandles==1)\n    if (ShootingStar) {\n        result = 1;\n        if (PrimeiroCandleLungaSombra) {\n            result = 1.5;\n        }\n        if (TendenciaUltimosCandles != 0) {\n            result = -result;\n        }\n    }\n\n    json.put(\"result\", result);\n    return json;\n\n}\n','Shooting Star','','result',''),
 (60,'function applyScript(candles, json, lastbar, script, input) {\n\n    var result = 0;\n\n    //=================================================================================\n    //  Three stars in the south\n    var myMediaMinima = candles.getVolumeMedioMinimo(lastbar, 5);\n    var TerceiroCandleBaixa = (candles.Open(lastbar + 2) > candles.Close(lastbar + 2));\n    var SegundoCandleBaixa = (candles.Open(lastbar + 1) > candles.Close(lastbar + 1)) && (candles.High(lastbar + 1) < candles.High(lastbar + 2)) && (candles.Low(lastbar + 1) > candles.Low(lastbar + 2));\n    var PrimeiroCandleBaixa = (candles.Open(lastbar) > candles.Close(lastbar)) && (candles.High(lastbar) < candles.High(lastbar + 1)) && (candles.Low(lastbar) > candles.Low(lastbar + 1));\n    var ThreeStartSouth = TerceiroCandleBaixa && SegundoCandleBaixa && PrimeiroCandleBaixa; //&& (TendenciaUltimosCandles==0)\n    if (ThreeStartSouth && (myMediaMinima <= candles.Volume(lastbar))) {\n        println(\"ThreeStartSouth : \" + ThreeStartSouth);\n        println(\"candles.Volume(\" + lastbar + \"): \" + candles.Volume(lastbar));\n\n        result = 1;\n    }\n\n    json.put(\"result\", result);\n    return json;\n}\n','ThreeStartSouth','Three stars in the south\n\nEsse tipo de candle precisa de uma confirmaÃ§ao antes de operar','result',''),
 (61,'function applyScript(candles, json, lastbar, script, input) {\n\n    var result = 0;\n    var CorpoCandle1DentroCandle2 = ((candles.Close(lastbar) > candles.Close(lastbar + 1)) && (candles.Close(lastbar) < candles.Open(lastbar + 1))) && (candles.Open(lastbar) > candles.Close(lastbar + 1)) && (candles.Open(lastbar) < candles.Open(lastbar + 1)) || ((candles.Close(lastbar) < candles.Close(lastbar + 1)) && (candles.Close(lastbar) > candles.Open(lastbar + 1))) && (candles.Open(lastbar) < candles.Close(lastbar + 1)) && (candles.Open(lastbar) > candles.Open(lastbar + 1));\n\n    var rangePerc = (((candles.High(lastbar + 1) - candles.Low(lastbar + 1)) / 100) * 30); //Retorna o valor do preÃ§o que representa 5%\n    var TweezersTop = (candles.High(lastbar) > candles.High(lastbar + 1) - rangePerc) && (candles.High(lastbar) < candles.High(lastbar + 1) + rangePerc);\n    //var TweezersBottom =  (candles.Low(lastbar) < candles.Low(lastbar+1) + rangePerc) && (candles.Low(lastbar) > candles.Low(lastbar+1) - rangePerc);\n    //=================================================================================\n    // TWEEZERS TOPS && BOTTOMS\n//    var HaramiCross = script.get(\"result\", script.call(\"Bearish Harami Cross\", lastbar, input));\n    //=================================================================================\n    // Tewwzers Top & HangingMan\n    var isUpDownTrend = candles.isCandleLongTrend(lastbar,3); \n    var isHangingManORHammer = candles.isHangingManORHammer(lastbar);\n    var isShootingStar = script.get(\"result\", script.call(\"Shooting Star\", lastbar, input));\n    var isDarkCloudCover = script.get(\"result\", script.call(\"Bearish Dark Cloud Cover\", lastbar, input));\n\n    if (isHangingManORHammer == 1) && CorpoCandle1DentroCandle2 && (isUpDownTrend == 0) {\n        result = -20;\n    }\n\n    if (isUpDownTrend == 1) && (isDarkCloudCover != 0) && TweezersTop {\n        result = -20;\n    }\n\n    if (isUpDownTrend == 1) && (isHangingManORHammer == 1) && CorpoCandle1DentroCandle2 {\n        result = -20;\n    }\n\n    if (isUpDownTrend == 1) && (isShootingStar > 0) && TweezersTop && CorpoCandle1DentroCandle2 {\n        result = -20;\n    }\n\n    //=================================================================================\n    //if (HaramiCross != 0) && TweezersTop && CorpoCandle1DentroCandle2 {\n    // resultTop = candles.High\n    //}\n\n    json.put(\"result\", result);\n    return json;\n\n}\n','Tweezers Tops & Bottoms','Tweezers Tops & Bottoms\n\nEsse indicador serve para identificar os Topos e Fundos.\n\nEsse algoritimo Ã© imcompleto e jÃ  que nao serÃ  util ao momento enquanto nao termino os Candles, deixo para completar depois.\n\nO livro de referencia Ã© \"Steve Nisson - Japonese Candlesticks Charting Techniques\" pagina 88 Adobe Page 99','result',''),
 (64,'function applyScript(candles, json, lastbar, script, input) {\n\n    var ncandles = parseInt(input.get(\"ncandles\"));\n    var tipo = input.get(\"tipo\");\n    var totale = 0;\n\n    if ((lastbar + ncandles) > candles.size()) {\n       json.put(\"result\", 0);\n       return json;\n    }\n\n    for (var x = lastbar; x < (lastbar + ncandles); x++) {\n        if (tipo == null) {\n            totale += candles.Close(x);\n        }\n        if (tipo != null) {\n            if (tipo.equals(\"High\")) {\n                totale += candles.High(x);\n            }\n            if (tipo.equals(\"Low\")) {\n                totale += candles.Low(x);\n            }\n        }\n    }\n\n    var media = totale / ncandles;\n\n    json.put(\"result\", media);\n\n    return json;\n}\n','$MMS','Media Moveis Simples(nperiodos)','result',''),
 (65,'function applyScript(candle, json, lastbar, script, input) {\n\n    var ncandles = parseInt(input.get(\"ncandles\"));\n    var U = 0;\n    var D = 0;\n\n    if ((lastbar + ncandles) > candle.size()) {\n       json.put(\"result\", 0);\n       return json;\n    }\n\n    for (var x = lastbar; x < (lastbar + ncandles); x++) {\n        if (candle.Close(x) > candle.Close(x + 1)) {\n            U += candle.Close(x) - candle.Close(x + 1);\n            D += 0;\n        } else {\n            U += 0;\n            D += candle.Close(x + 1) - candle.Close(x);\n        }\n    }\n    var RS = U / D;\n    var RSI = 100 - (100 * (1 / (1 + RS)));\n\n    json.put(\"result\", RSI);\n    return json;\n}\n','$IFR','Indice de ForÃ§a Relativa(ncandles)','result',''),
 (66,'function applyScript(candle, json, lastbar, script, input) {\n\n    json.put(\"result\", 0);\n    return json;\n}\n','@MM13 & IFR14','DESCRIÃ‡ÃƒO DO SETUP\n\nGrafico de 15 minutos. Incluo ifr de 14 e uma media aritmÃ©tica de 13 periodos.\nQuando a media de 13 furar de cima para baixo o ifr eu marco a mÃ­nima do candle que produziu isso. Quando a media 13 virar para cima, assumo entrada ao romper a mÃ¡xima do candle que fez isso.\nSAR colabora no stop.\n\nENTRADA\n\nLong :\nMedia de 13 furou para cima o ifr, eu compro se romper a mÃ¡xima do candle que fez isso com estope na mÃ­nima.\nShort:\nMedia de 13 furou para baixo o ifr, ao perder a mÃ­nima Do candle que fez isso inicio venda.\n\nSAÃ?DA\n\nStop-loss:Na compra, mÃ­nima do candle rompido.\nNa venda, mÃ¡xima do candle que teve sua mÃ­nima perdida.\n.\nStop-gain: Vende Pelo SAR ou fecho no final do dia.\nNa venda, recompra pelo SAR, ou fecho no final do dia.\n\nSe o sinal de operaÃ§Ã£o oposta for acionado termino trade igualmente e reverto posiÃ§Ã£o. \n-------------------------------------\n\nhttp://www.leandrostormer.com.br/view/publico/desafioTatica.aspx?id=68&hash=2140705779','result',''),
 (67,'function applyScript(candle, json, lastbar, script, input) {\n\n    var HLd = 0;\n    var HLv = 0;\n    var HiLo = 0;\n\n    input.put(\"ncandles\", \"6\");\n    input.put(\"tipo\", \"High\");\n    var MM3H_Simple = script.get(\"result\", script.call(\"$MMS\", lastbar + 1, input));\n    var MM3H_S_Cur = script.get(\"result\", script.call(\"$MMS\", lastbar, input));\n\n    input.put(\"ncandles\", \"6\");\n    input.put(\"tipo\", \"Low\");\n    var MM3L_Simple = script.get(\"result\", script.call(\"$MMS\", lastbar + 1, input));\n    var MM3L_S_Cur = script.get(\"result\", script.call(\"$MMS\", lastbar, input));\n\n/*\n    println(\"MM3H_Simple = \" + MM3H_Simple);\n    println(\"MM3H_S_Cur  = \" + MM3H_S_Cur);\n    println(\"MM3L_Simple = \" + MM3L_Simple);\n    println(\"MM3L_S_Cur  = \" + MM3L_S_Cur);\n*/\n    if (candle.Close(lastbar) > MM3H_Simple) {\n        HLd = 1;\n    } else if (candle.Close(lastbar) < MM3L_Simple) {\n        HLd = -1;\n    } else {\n        HLd = 0;\n    }\n\n    if (HLd != 0) {\n        HLv = HLd;\n    }\n\n    HiLo = (HLv == -1) ? MM3H_S_Cur : MM3L_S_Cur;\n\n    json.put(\"result\", HiLo);\n    return json;\n\n}\n\n/*\nGann High Low - Metastock Indicator Formula\nby Adam Hefner\n{name: GANN-HiLo}\n\nHLd:=If(CLOSE>Ref(Mov(H,3,S),-1),\n{then}1,\n{else}If(CLOSE<Ref(Mov(L,3,S),-1),\n{then}-1,\n{else}0));\nHLv:=ValueWhen(1,HLd<>0,HLd);\nHiLo:=If(HLv=-1,\n{then}Mov(H,3,S),\n{else}Mov(L,3,S));\nHiLo;\n*/','@HiLo','Interpretation\n\nThe Gann HiLo Activator is meant to be used in conjuction with the Gann Swing Oscillator and Gann Trend Oscillator indicators to form a trading system methodology commonly referred to as the \"New Gann Swing Chartist Plan\". Within this methodology the Gann HiLo Activator can be used as an entry trigger and stoploss point. When price is above the HiLo Activator it can be used as a buy stop (uses the previous periods lows for calculations) and when price is below the HiLo Activator it can be used as a sell stop (using the previous periods highs for calculation).','result',''),
 (68,'function applyScript(candles, json, lastbar, script, input) {\n\n    var ncandles = parseInt(input.get(\"ncandles\"));\n    var tipo = input.get(\"tipo\");\n    var ema = candles.Close(lastbar);\n    var T = 2 / (ncandles + 1);\n\n    if ((lastbar + ncandles) > candles.size()) {\n        json.put(\"result\", 0);\n        return json;\n    }\n\n    for (var x = lastbar; x < (lastbar + ncandles); x++) {\n        var value = ((tipo != null) && (tipo.equals(\"volume\"))) ? candles.Volume(x) : candles.Close(x);\n        ema += (value - ema) * T;\n    }\n    json.put(\"result\", ema);\n    return json;\n}\n','$MME','Media Moveis Exponenciais(nperiodos)','result','#000000,#000000,histograma,0,result|undefined'),
 (69,'function applyScript(candle, json, lastbar, script, input) {\n\n    input.put(\"ncandles\", \"6\");\n    var HiLo = script.get(\"result\", script.call(\"@HiLo\", lastbar, input));\n    var HiLo_1 = script.get(\"result\", script.call(\"@HiLo\", lastbar + 1, input));\n    var HiLo_2 = script.get(\"result\", script.call(\"@HiLo\", lastbar + 2, input));\n\n    input.put(\"ncandles\", \"5\");\n    var MME_5 = script.get(\"result\", script.call(\"$MME\", lastbar, input));\n\n    input.put(\"ncandles\", \"10\");\n    var MME_10 = script.get(\"result\", script.call(\"$MME\", lastbar, input));\n\n    input.put(\"ncandles\", \"21\");\n    var MME_21 = script.get(\"result\", script.call(\"$MME\", lastbar, input));\n\n    var Long = (HiLo < candle.Close(lastbar)) && (candle.Close(lastbar) > MME_21) && (MME_5 > MME_10);\n\n    var Short = (HiLo > candle.Close(lastbar)) && (candle.Close(lastbar) < MME_21) && (MME_10 > MME_5);\n\n    var Stop_Gain = 0;\n    var Stop_Loss = 0;\n    var Stop_Inicial = 0;\n    var buy = input.get(\"buy\");\n\n    if (buy != null) {\n        Stop_Gain = (candle.Close(lastbar) > (buy * 1.10));\n\n        if (((HiLo < HiLo_1) && (HiLo_1 > HiLo_2)) || ((HiLo > HiLo_1) && (HiLo_1 < HiLo_2))) {\n            Stop_Loss = candle.Close(lastbar);\n        }\n\n        if (HiLo == buy) {\n            Stop_Inicial = candle.Close(lastbar);\n        }\n    }\n\n    json.put(\"input_long\", (Long) ? candle.Close(lastbar) : 0);\n    json.put(\"input_short\", (Short) ? candle.Close(lastbar) : 0);\n    json.put(\"stop_gain\", Stop_Gain);\n    json.put(\"stop_loss\", Stop_Loss);\n    json.put(\"stop_inicial\", Stop_Inicial);\n    return json;\n}\n','@Setup Pedrina','','input_long,input_short,stop_gain,stop_loss,stop_inicial','#FE0101,#FE0101,line,0,result|undefined'),
 (72,'function applyScript(candle, json, lastbar, script, input) {\n\n    var totSMA = 0;\n\n    var ncandles = parseInt(input.get(\"ncandles\"));\n\n    if ((lastbar + ncandles) > candle.size()) {\n       json.put(\"result\", 0);\n       return json;\n    }\n\n//    input.put(\"ncandles\", \"6\");\n    for (var x = lastbar; x < (lastbar + ncandles); x++) {\n        //MMS eh igual a SMA\n        totSMA += parseFloat(script.get(\"result\",script.call(\"$MMS\", x, input)));\n    }\n\n    TMA = totSMA / parseFloat(ncandles);\n\n    json.put(\"result\", TMA);\n    return json;\n\n}\n','$TMA','Triangular Moving Average (TMA)\nDescription: \n\nThe triangular moving average (TMA) is a weighted average of the last n prices (P), whose result is equivalent to a double smoothed simple moving average (i.e. calculated twice).\nCalculation:\n    SMA = (P1 + P2 + P3 + P4 + ... + Pn) / n\n\n    TMA = (SMA1 + SMA2 + SMA3 + SMA4 + ... SMAn) / n\nTrading Use\n\nAs with other moving averages, the triangular moving average can be used to identify a trend by using the slope of the average (or lack of slope in a ranging market). However, due to the additional smoothing, triangular moving averages tend to be smoother, and have more waves, than standard moving averages. Interestingly, triangular moving averages often appear more responsive to direction changes, even though the additional smoothing actually moves the domainant input value to the middle of the input series (which would decrease responsiveness).','result',''),
 (73,'function applyScript(candle, json, lastbar, script, input) {\n\n    input.put(\"ncandles\", \"21\"); //Modifiquei de 8 para 21 periodos \n    try {\n        var TMA = parseFloat(script.get(\"result\", script.call(\"$TMA\", lastbar, input)));\n\n        json.put(\"TMAp\", (TMA * 1.12));\n        json.put(\"TMA\", TMA);\n        json.put(\"TMAm\", (TMA / 1.1));\n    } catch(err) {\n        json.put(\"TMAp\", 0);\n        json.put(\"TMA\", 0);\n        json.put(\"TMAm\", 0);\n}\n    return json;\n\n}\n','@Bandando','DESCRIÃ‡ÃƒO DO SETUP \n\nUtiliza Bandas High Low com saÃ­da na banda mÃ©dia. As Bandas High Low consistem em uma mÃ©dia mÃ³vel triangular calculada a partir do preÃ§o, substituÃ­ndo a variaÃ§Ã£o por uma porcentagem fixa e incluindo um valor mÃ©dio. Quando os preÃ§os sobem acima da banda superior ou cai abaixo da banda inferior, uma mudanÃ§a de direÃ§Ã£o pode ocorrer quando o preÃ§o penetrar novamente a banda apÃ³s uma pequena reversÃ£o na direÃ§Ã£o oposta.\nâ€¢ O cÃ¡lculo deve ser feito utilizando um perÃ­odo de 8 dias.\nâ€¢ Opera-se tanto na compra quanto na venda. \nA operaÃ§Ã£o Ã© feita na abertura do mercado.\nâ€¢ O indicador deve ser aplicado simultaneamente ao papel e ao Ã­ndice Bovespa. A ordem Ã© enviada apenas quando houver concordÃ¢ncia nos sinais de compra ou venda.\nâ€¢ A operaÃ§Ã£o Ã© mantida por no mÃ¡ximo 10 dias.\nâ€¢ O stop-loss Ã© fixado em 30% de perda, tanto na compra quanto na venda.\nENTRADA\n\nSe o preÃ§o de fechamento for maior que a banda superior, venda.\nSe o preÃ§o de fechamento Ã© menor que a banda inferior, compra.\nUma mÃ©dia mÃ³vel simples Ã© utilizada para fazer os cÃ¡lculos iniciais.\nSAÃ?DA\n\nSe o preÃ§o de fechamento for maior que a banda superior, venda.\nSe o preÃ§o de fechamento Ã© menor que a banda inferior, compra.\nUma mÃ©dia mÃ³vel simples Ã© utilizada para fazer os cÃ¡lculos iniciais.\nTAMANHO DA POSIÃ‡ÃƒO\n\nPerda no mÃ¡ximo de 9% do total em uma operaÃ§Ã£o.','TMAp,TMA,TMAm',''),
 (75,'function applyScript(candle, json, position, script, input) {\n\n    // WMA - Weighted Moving Average\n    var wma = 0;\n    var ncandles = parseInt(script.get(\"ncandles\"));\n\n    if ((lastbar + ncandles) > candle.size()) {\n       json.put(\"result\", 0);\n       return json;\n    }\n\n    for (var bar = lastbar; bar <= ncandles; bar++) {\n        wma += candle.Close(bar) * (bar + 1);\n    }\n\n    var value = wma / (ncandles * (ncandles + 1) / 2);\n    json.put(\"result\", value)\n    return json;\n}\n','$WMA','WMA - Weighted Moving Average','result',''),
 (76,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n\n    var rs = script.call(\"@Setup Pedrina\", lastbar, input);\n\n    json.put(\"close2\", candles.Close(lastbar));\n\n    json.put(\"input_long\", script.get(\"input_long\",rs));\n    json.put(\"input_short\", script.get(\"input_short\",rs));\n\n/*\n    json.put(\"stop_gain\", script.get(\"stop_gain\",rs));\n    json.put(\"stop_loss\", script.get(\"stop_loss\",rs));\n    json.put(\"stop_inicial\", script.get(\"stop_inicial\",rs));\n*/\n    return json;\n}\n','script 02','','close2,input_long,input_short','#000000,#FE0101,line,0,close2|#93B0C1,#FE0101,histograma,0,input_long|#100078,#100078,histograma,0,input_short'),
 (77,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n\ninput.put(\"ncandles\",\"14\");\n    var rs = script.call(\"$IFR\", lastbar, input); \n\n    json.put(\"result\", script.get(\"result\",rs));\n\n    return json;\n}\n','script 03','','result','#000000,#FE0101,line,0,result|undefined'),
 (78,'function applyScript(candle, json, position, script, input) {\n    try {\n        var squareSum = 0;\n        var sum = 0;\n        var lastbar = parseInt(position);\n        var ncandles = parseFloat(input.get(\"ncandles\"));\n        var deviations = input.get(\"deviations\");\n\n        if ((lastbar + ncandles) > candle.size()) {\n            json.put(\"result\", 0);\n            return json;\n        }\n\n        for (var bar = lastbar; bar < (lastbar + ncandles); bar++) {\n            var barClose = candle.Close(bar);\n            sum += barClose;\n            squareSum += barClose * barClose;\n        }\n\n        var stDev = ncandles * squareSum - sum * sum;\n        stDev /= (ncandles * (ncandles - 1));\n        stDev = Math.sqrt(stDev);\n\n        var value = sum / ncandles + deviations * stDev;\n        json.put(\"result\", value);\n    } catch(err) {\n        json.put(\"result\", 0);\n    }\n    return json;\n}\n','$BollingerUpper','Upper Bollinger Band','result','#000000,#000000,line,0,MI01|#000000,#000000,line,0,MI02|#000000,#000000,line,0,MI03|#000000,#000000,line,0,MI04|#000000,#000000,Histograma,0'),
 (79,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n    input.put(\"ncandles\",21);\n    input.put(\"deviations\",2.0);\n\n    var upper = script.get(\"result\",script.call(\"$BollingerUpper\", lastbar, input));\n    var middle = script.get(\"result\",script.call(\"$BollingerMiddle\", lastbar, input));\n    var lower = script.get(\"result\",script.call(\"$BollingerLower\", lastbar, input));\n\n    json.put(\"upper\", upper);\n    json.put(\"middle\", middle);\n    json.put(\"lower\", lower);\n    json.put(\"closeX\", candles.Close(lastbar));\n    return json;\n}\n','$BandsBollinger','','closeX,upper,lower,middle','#CBCBCB,#CBCBCB,histograma,0,closeX|#1241FE,#FE0101,line,0,upper|#0D873A,#0D873A,line,0,lower|#BC2525,#BC2525,line,0,middle'),
 (80,'function applyScript(candle, json, position, script, input) {\n    try {\n        var squareSum = 0;\n        var sum = 0;\n        var lastbar = parseInt(position);\n        var ncandles = parseFloat(input.get(\"ncandles\"));\n        var deviations = input.get(\"deviations\");\n\n        if ((lastbar + ncandles) > candle.size()) {\n            json.put(\"result\", 0);\n            return json;\n        }\n        for (var bar = lastbar; bar < (lastbar + ncandles); bar++) {\n            var barClose = candle.Close(bar);\n            sum += barClose;\n            squareSum += barClose * barClose;\n        }\n\n        var stDev = ncandles * squareSum - sum * sum;\n        stDev /= (ncandles * (ncandles - 1));\n        stDev = Math.sqrt(stDev);\n\n        var value = sum / ncandles - deviations * stDev;\n        json.put(\"result\", value);\n    } catch(err) {\n        json.put(\"result\", 0);\n    }\n    return json;\n}\n','$BollingerLower','Lower Bollinger Band','result',''),
 (81,'function applyScript(candle, json, position, script, input) {\n    try {\n        var sum = 0;\n        var lastbar = parseInt(position);\n        var ncandles = parseFloat(input.get(\"ncandles\"));\n\n        if ((lastbar + ncandles) > candle.size()) {\n            json.put(\"result\", 0);\n            return json;\n        }\n\n        for (var bar = lastbar; bar < (lastbar + ncandles); bar++) {\n            sum += candle.Close(bar);\n        }\n\n        var value = sum / ncandles;\n        json.put(\"result\", value);\n    } catch(err) {\n        json.put(\"result\", 0);\n    }\n    return json;\n}\n','$BollingerMiddle','Middle Bollinger Band','result',''),
 (82,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n\n    var jumper_buy = script.get(\"result\", script.call(\"@Jumper_Buy\", lastbar, input));\n    var jumper_target = script.get(\"result\", script.call(\"@Jumper_Target\", lastbar, input));\n    var jumper_stoploss = script.get(\"result\", script.call(\"@Jumper_StopLoss\", lastbar, input));\n\n    json.put(\"buy\", jumper_buy);\n    json.put(\"target\", jumper_target);\n    json.put(\"stoploss\", jumper_stoploss);\n\n    return json;\n}\n','script 04',' DESCRIÃ‡ÃƒO DO SETUP\n\nâ€¢ Setup contra a tendÃªncia, tanto para compra como para venda (long ou short);\nâ€¢ Utiliza apenas grÃ¡ficos diÃ¡rios;\nâ€¢ Atua na tentativa de identificar regiÃ£o sobre-comprada (sobre-vendida), forÃ§a atuante no mercado (compradores ou vendedores), um sinal claro de mudanÃ§a da tendÃªncia, alÃ©m de aproveitar-se tambÃ©m da propriedade de retorno a mÃ©dia vigente nas variaÃ§Ãµes de preÃ§os. TraÃ§a targets (alvos) de acordo com a volatilidade do ativo no momento;\nâ€¢ Simples de se identificar visualmente, nÃ£o Ã© preciso mais do que 10 minutos diÃ¡rios para acompanhar mais de 30 ativos;\nâ€¢ EstratÃ©gia rara. Ocorre de uma a duas vezes por ativo por ano. Ã‰ uma estratÃ©gia complementar, utilizada em combinaÃ§Ã£o com alguma outra que seja freqÃ¼ente. Pode ser aplicado em qualquer ativo, com eficiÃªncia parecida;\nâ€¢ SerÃ£o apresentados somente os resultados das operaÃ§Ãµes Long;\n\nENTRADA\n\nLong (Short): os seguintes critÃ©rios devem ser satisfeitos, simultaneamente:\nA. Pelo menos 50% do candle abaixo (acima) da Banda de Bollinger Inferior (Superior), aritmÃ©tica, com 20 perÃ­odos e 2 desvios; (PARA DETECTAR MERCADO SOBRE-VENDIDO OU SOBRE-COMPRADO)\nB. O Fechamento a, no mÃ¡ximo (mÃ­nimo), 25% (75%) da mÃ¡xima do dia; (PARA DETECTAR FORÃ‡A ATUANTE E SINAL CLARO DE REVERSÃƒO DA TENDÃŠNCIA)\nEntrada sempre nos fechamentos;\nNÃ£o entrar se o objetivo for menor que 3%;\n\nSAÃ?DA\n\nâ€¢ Stop loss: abaixo (acima) da mÃ­nima (mÃ¡xima) do candle que gerou a entrada, ou abaixo (acima) da mÃ­nima (mÃ¡xima) do fundo (topo) imeditato a que o candle que gerou a entrada pertence. (GARANTIA DE CONTINUAÃ‡ÃƒO DO MOVIMENTO E FALHA NAS EXPECTATIVAS DE REVERSÃƒO DE TENDÃŠNCIA. EVITA AS FAMOSAS VIOLINADAS)\nâ€¢ Target: no primeiro negÃ³cio realizado acima (abaixo) da Banda de Bollinger Inferior (Superior), aritmÃ©tica, de 17 perÃ­odos e 0,5 desvios. (PARA DETECTAR QUANDO O PREÃ‡O NÃƒO ESTÃ? MAIS SOBRE-VENDIDO OU SOBRE-COMPRADO, E APROVEITA O POTENCIAL DE VOLATILIDADE DO ATIVO, IDENTIFICANDO SAÃ?DAS Ã“TIMAS).\n\nTAMANHO DA POSIÃ‡ÃƒO\n\nVisando uma perda aceitÃ¡vel de no mÃ¡ximo 6% ao mÃªs, e dado que este setup ocorre entre uma e duas vezes ao ano, podemos admitir uma perda de atÃ© 30% do capital, para entrar com todo o capital na operaÃ§Ã£o, sem alavancagem.\nSe o trader for aplicar este setup em vÃ¡rios ativos, pode entrar com posiÃ§Ãµes menores, afim de respeitar a regra dos 6%, aumentando muito a rentabilidade.','buy,target,stoploss','#574BFF,#574BFF,histograma,0,gain|#FE1515,#FE1515,histograma,0,loss'),
 (84,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n\n    input.put(\"ncandles\",21);\n    input.put(\"deviations\",2.0);\n\n    var lower = script.get(\"result\", script.call(\"$BollingerLower\", lastbar, input));\n\n    var range50percCandle = ((Math.abs(candles.Open(lastbar) - candles.Close(lastbar)) / 100) * 50); //Retorna o valor do preÃ§o que representa 50%\n    var range25percHighCandle = ((Math.abs(candles.High(lastbar) - candles.Low(lastbar)) / 100) * 50); //Retorna o valor do preÃ§o que representa 50%\n\n    if (candles.Close(lastbar) < candles.Open(lastbar)) {\n        criterio1 = (candles.Close(lastbar) + range50percCandle) < lower;\n    } else {\n        criterio1 = (candles.Open(lastbar) + range50percCandle) < lower;\n    }\n    var criterio2 = candles.Close(lastbar) > candles.High(lastbar) - range25percHighCandle;\n\n    var result = 0;\n    if (criterio1 && criterio2) {\n        result = 1;\n    }\n    json.put(\"result\", result);\n    return json;\n}\n','@Jumper_Buy',' DESCRIÃ‡ÃƒO DO SETUP\n\nâ€¢ Setup contra a tendÃªncia, tanto para compra como para venda (long ou short);\nâ€¢ Utiliza apenas grÃ¡ficos diÃ¡rios;\nâ€¢ Atua na tentativa de identificar regiÃ£o sobre-comprada (sobre-vendida), forÃ§a atuante no mercado (compradores ou vendedores), um sinal claro de mudanÃ§a da tendÃªncia, alÃ©m de aproveitar-se tambÃ©m da propriedade de retorno a mÃ©dia vigente nas variaÃ§Ãµes de preÃ§os. TraÃ§a targets (alvos) de acordo com a volatilidade do ativo no momento;\nâ€¢ Simples de se identificar visualmente, nÃ£o Ã© preciso mais do que 10 minutos diÃ¡rios para acompanhar mais de 30 ativos;\nâ€¢ EstratÃ©gia rara. Ocorre de uma a duas vezes por ativo por ano. Ã‰ uma estratÃ©gia complementar, utilizada em combinaÃ§Ã£o com alguma outra que seja freqÃ¼ente. Pode ser aplicado em qualquer ativo, com eficiÃªncia parecida;\nâ€¢ SerÃ£o apresentados somente os resultados das operaÃ§Ãµes Long;\n\nENTRADA\n\nLong (Short): os seguintes critÃ©rios devem ser satisfeitos, simultaneamente:\nA. Pelo menos 50% do candle abaixo (acima) da Banda de Bollinger Inferior (Superior), aritmÃ©tica, com 20 perÃ­odos e 2 desvios; (PARA DETECTAR MERCADO SOBRE-VENDIDO OU SOBRE-COMPRADO)\nB. O Fechamento a, no mÃ¡ximo (mÃ­nimo), 25% (75%) da mÃ¡xima do dia; (PARA DETECTAR FORÃ‡A ATUANTE E SINAL CLARO DE REVERSÃƒO DA TENDÃŠNCIA)\nEntrada sempre nos fechamentos;\nNÃ£o entrar se o objetivo for menor que 3%;\n\nSAÃ?DA\n\nâ€¢ Stop loss: abaixo (acima) da mÃ­nima (mÃ¡xima) do candle que gerou a entrada, ou abaixo (acima) da mÃ­nima (mÃ¡xima) do fundo (topo) imeditato a que o candle que gerou a entrada pertence. (GARANTIA DE CONTINUAÃ‡ÃƒO DO MOVIMENTO E FALHA NAS EXPECTATIVAS DE REVERSÃƒO DE TENDÃŠNCIA. EVITA AS FAMOSAS VIOLINADAS)\nâ€¢ Target: no primeiro negÃ³cio realizado acima (abaixo) da Banda de Bollinger Inferior (Superior), aritmÃ©tica, de 17 perÃ­odos e 0,5 desvios. (PARA DETECTAR QUANDO O PREÃ‡O NÃƒO ESTÃ? MAIS SOBRE-VENDIDO OU SOBRE-COMPRADO, E APROVEITA O POTENCIAL DE VOLATILIDADE DO ATIVO, IDENTIFICANDO SAÃ?DAS Ã“TIMAS).\n\nTAMANHO DA POSIÃ‡ÃƒO\n\nVisando uma perda aceitÃ¡vel de no mÃ¡ximo 6% ao mÃªs, e dado que este setup ocorre entre uma e duas vezes ao ano, podemos admitir uma perda de atÃ© 30% do capital, para entrar com todo o capital na operaÃ§Ã£o, sem alavancagem.\nSe o trader for aplicar este setup em vÃ¡rios ativos, pode entrar com posiÃ§Ãµes menores, afim de respeitar a regra dos 6%, aumentando muito a rentabilidade.','result','#574BFF,#574BFF,histograma,0,buy|#FE0101,#FE0101,histograma,0,stoploss|undefined|undefined'),
 (85,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n\n    input.put(\"ncandles\",17);\n    input.put(\"deviations\",0.5);\n\n    var lower = script.get(\"result\", script.call(\"$BollingerLower\", lastbar, input));\n\n    var criterio1 = (candles.Close(lastbar) > lower);\n\n    var target = 0;\n    if (criterio1) {\n        target = 1;\n    }\n    json.put(\"result\", target);\n    return json;\n}\n','@Jumper_Target',' DESCRIÃ‡ÃƒO DO SETUP\n\nâ€¢ Setup contra a tendÃªncia, tanto para compra como para venda (long ou short);\nâ€¢ Utiliza apenas grÃ¡ficos diÃ¡rios;\nâ€¢ Atua na tentativa de identificar regiÃ£o sobre-comprada (sobre-vendida), forÃ§a atuante no mercado (compradores ou vendedores), um sinal claro de mudanÃ§a da tendÃªncia, alÃ©m de aproveitar-se tambÃ©m da propriedade de retorno a mÃ©dia vigente nas variaÃ§Ãµes de preÃ§os. TraÃ§a targets (alvos) de acordo com a volatilidade do ativo no momento;\nâ€¢ Simples de se identificar visualmente, nÃ£o Ã© preciso mais do que 10 minutos diÃ¡rios para acompanhar mais de 30 ativos;\nâ€¢ EstratÃ©gia rara. Ocorre de uma a duas vezes por ativo por ano. Ã‰ uma estratÃ©gia complementar, utilizada em combinaÃ§Ã£o com alguma outra que seja freqÃ¼ente. Pode ser aplicado em qualquer ativo, com eficiÃªncia parecida;\nâ€¢ SerÃ£o apresentados somente os resultados das operaÃ§Ãµes Long;\n\nENTRADA\n\nLong (Short): os seguintes critÃ©rios devem ser satisfeitos, simultaneamente:\nA. Pelo menos 50% do candle abaixo (acima) da Banda de Bollinger Inferior (Superior), aritmÃ©tica, com 20 perÃ­odos e 2 desvios; (PARA DETECTAR MERCADO SOBRE-VENDIDO OU SOBRE-COMPRADO)\nB. O Fechamento a, no mÃ¡ximo (mÃ­nimo), 25% (75%) da mÃ¡xima do dia; (PARA DETECTAR FORÃ‡A ATUANTE E SINAL CLARO DE REVERSÃƒO DA TENDÃŠNCIA)\nEntrada sempre nos fechamentos;\nNÃ£o entrar se o objetivo for menor que 3%;\n\nSAÃ?DA\n\nâ€¢ Stop loss: abaixo (acima) da mÃ­nima (mÃ¡xima) do candle que gerou a entrada, ou abaixo (acima) da mÃ­nima (mÃ¡xima) do fundo (topo) imeditato a que o candle que gerou a entrada pertence. (GARANTIA DE CONTINUAÃ‡ÃƒO DO MOVIMENTO E FALHA NAS EXPECTATIVAS DE REVERSÃƒO DE TENDÃŠNCIA. EVITA AS FAMOSAS VIOLINADAS)\nâ€¢ Target: no primeiro negÃ³cio realizado acima (abaixo) da Banda de Bollinger Inferior (Superior), aritmÃ©tica, de 17 perÃ­odos e 0,5 desvios. (PARA DETECTAR QUANDO O PREÃ‡O NÃƒO ESTÃ? MAIS SOBRE-VENDIDO OU SOBRE-COMPRADO, E APROVEITA O POTENCIAL DE VOLATILIDADE DO ATIVO, IDENTIFICANDO SAÃ?DAS Ã“TIMAS).\n\nTAMANHO DA POSIÃ‡ÃƒO\n\nVisando uma perda aceitÃ¡vel de no mÃ¡ximo 6% ao mÃªs, e dado que este setup ocorre entre uma e duas vezes ao ano, podemos admitir uma perda de atÃ© 30% do capital, para entrar com todo o capital na operaÃ§Ã£o, sem alavancagem.\nSe o trader for aplicar este setup em vÃ¡rios ativos, pode entrar com posiÃ§Ãµes menores, afim de respeitar a regra dos 6%, aumentando muito a rentabilidade.','result','#574BFF,#574BFF,histograma,0,buy|#FE0101,#FE0101,histograma,0,stoploss|undefined|undefined'),
 (86,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n    var jumper_buy = 0;\n    var bar = 0;\n\n    if ((lastbar + 40) > candles.size()) {\n       json.put(\"result\", 0);\n       return json;\n    }\n\n    for (bar = lastbar; bar < lastbar + 40; bar++) {\n        jumper_buy = script.get(\"result\", script.call(\"@Jumper_Buy\", bar, input));\n        if (jumper_buy > 0) break;\n    }\n    if (jumper_buy > 0) {\n        var criterio1 = candles.Close(lastbar) < candles.Low(bar);\n\n        var stoploss = 0;\n        if (criterio1) {\n            stoploss = 1;\n        }\n        json.put(\"result\", stoploss);\n    } else {\n        json.put(\"result\", 0);\n    }\n    return json;\n}\n','@Jumper_StopLoss',' DESCRIÃ‡ÃƒO DO SETUP\n\nâ€¢ Setup contra a tendÃªncia, tanto para compra como para venda (long ou short);\nâ€¢ Utiliza apenas grÃ¡ficos diÃ¡rios;\nâ€¢ Atua na tentativa de identificar regiÃ£o sobre-comprada (sobre-vendida), forÃ§a atuante no mercado (compradores ou vendedores), um sinal claro de mudanÃ§a da tendÃªncia, alÃ©m de aproveitar-se tambÃ©m da propriedade de retorno a mÃ©dia vigente nas variaÃ§Ãµes de preÃ§os. TraÃ§a targets (alvos) de acordo com a volatilidade do ativo no momento;\nâ€¢ Simples de se identificar visualmente, nÃ£o Ã© preciso mais do que 10 minutos diÃ¡rios para acompanhar mais de 30 ativos;\nâ€¢ EstratÃ©gia rara. Ocorre de uma a duas vezes por ativo por ano. Ã‰ uma estratÃ©gia complementar, utilizada em combinaÃ§Ã£o com alguma outra que seja freqÃ¼ente. Pode ser aplicado em qualquer ativo, com eficiÃªncia parecida;\nâ€¢ SerÃ£o apresentados somente os resultados das operaÃ§Ãµes Long;\n\nENTRADA\n\nLong (Short): os seguintes critÃ©rios devem ser satisfeitos, simultaneamente:\nA. Pelo menos 50% do candle abaixo (acima) da Banda de Bollinger Inferior (Superior), aritmÃ©tica, com 20 perÃ­odos e 2 desvios; (PARA DETECTAR MERCADO SOBRE-VENDIDO OU SOBRE-COMPRADO)\nB. O Fechamento a, no mÃ¡ximo (mÃ­nimo), 25% (75%) da mÃ¡xima do dia; (PARA DETECTAR FORÃ‡A ATUANTE E SINAL CLARO DE REVERSÃƒO DA TENDÃŠNCIA)\nEntrada sempre nos fechamentos;\nNÃ£o entrar se o objetivo for menor que 3%;\n\nSAÃ?DA\n\nâ€¢ Stop loss: abaixo (acima) da mÃ­nima (mÃ¡xima) do candle que gerou a entrada, ou abaixo (acima) da mÃ­nima (mÃ¡xima) do fundo (topo) imeditato a que o candle que gerou a entrada pertence. (GARANTIA DE CONTINUAÃ‡ÃƒO DO MOVIMENTO E FALHA NAS EXPECTATIVAS DE REVERSÃƒO DE TENDÃŠNCIA. EVITA AS FAMOSAS VIOLINADAS)\nâ€¢ Target: no primeiro negÃ³cio realizado acima (abaixo) da Banda de Bollinger Inferior (Superior), aritmÃ©tica, de 17 perÃ­odos e 0,5 desvios. (PARA DETECTAR QUANDO O PREÃ‡O NÃƒO ESTÃ? MAIS SOBRE-VENDIDO OU SOBRE-COMPRADO, E APROVEITA O POTENCIAL DE VOLATILIDADE DO ATIVO, IDENTIFICANDO SAÃ?DAS Ã“TIMAS).\n\nTAMANHO DA POSIÃ‡ÃƒO\n\nVisando uma perda aceitÃ¡vel de no mÃ¡ximo 6% ao mÃªs, e dado que este setup ocorre entre uma e duas vezes ao ano, podemos admitir uma perda de atÃ© 30% do capital, para entrar com todo o capital na operaÃ§Ã£o, sem alavancagem.\nSe o trader for aplicar este setup em vÃ¡rios ativos, pode entrar com posiÃ§Ãµes menores, afim de respeitar a regra dos 6%, aumentando muito a rentabilidade.','result','#574BFF,#574BFF,histograma,0,entry|#FE0101,#FE0101,histograma,0,stop|undefined'),
 (88,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n    input.put(\"ncandles\", 52);\n    var MML = script.get(\"result\", script.call(\"$MMS\", lastbar, input));\n    input.put(\"ncandles\", 24);\n    var MMC = script.get(\"result\", script.call(\"$MMS\", lastbar, input));\n\n    var buy = 0;\n    var stopgain = 0;\n    var stoploss = 0;\n\n    if ((MMC - MML) > 0) {\n        buy = candles.Close(lastbar);\n    }\n\n    var bar = 0;\n    for (bar = lastbar; bar < lastbar + 30; bar++) {\n        var result = script.get(\"result\", script.call(\"@FORSFUNDS_Buy\", lastbar, input));\n        if (result > 0) break;\n    }\n    if (result > 0) {\n\n        var criterio4 = ((Math.abs(MML - candles.Close(bar)) <= 0.03) || (Math.abs(MMC - candles.Close(bar)) <= 0.03));\n        if (criterio4) {\n            stopgain = candles.Close(lastbar);\n        }\n\n        if (candles.Close(lastbar) < (candles.Close(bar) / 1.018)) {\n            stoploss = candles.Close(bar) / 1.018;\n        }\n\n        var criterio0 = (((bar - lastbar) == 1) && (candles.High(lastbar + 1) < candles.Open(lastbar))); //Se passou 1 dia da operaÃ§ao de compra e teve um GAP no dia seguinte\n        var criterio1 = ((bar - lastbar) > 4); //Se passou 4 dias da operaÃ§ao de compra\n        var criterio2 = (candles.Low(lastbar + 2) > candles.Close(bar));\n        var criterio3 = (candles.Low(lastbar + 1) > candles.Close(bar));\n\n        if (criterio1 && criterio2 && criterio3) {\n            stoploss = candles.Close(bar) / 1.01;\n        }\n        if (criterio0) {\n            stoploss = candles.Close(bar) / 1.01;\n        }\n    }\n\n    json.put(\"long\", buy);\n    json.put(\"stopgain\", stopgain);\n    json.put(\"stoploss\", stoploss);\n\n    return json;\n}\n','@FORS_FUNDS','DESCRIÃ‡ÃƒO DO SETUP \n\nUtiliza-se da diferenÃ§a entre mÃ©dias aritmÃ©ticas curtas e longas e da variaÃ§Ã£o das mesmas para definir entradas e saÃ­das. MC = 24 / ML = 52\nENTRADA\n\nLong: Se (MC-ML) > 0, entrada no preÃ§o de fechamento para a data;\nSAÃ?DA\n\nStop gain: Se variaÃ§Ã£o da ML ou MC <= R$0,03, venda no fechamento;\nStop loss: -1.8% do preÃ§o de entrada. Stop sobe para o preÃ§o de compra â€“ 0,1%, se e somente se a mÃ­nima de dois dias anteriores for maior que o preÃ§o de compra, apÃ³s o quarto dia dentro da operaÃ§Ã£o. Se GAP, 0,1% abaixo do preÃ§o de entrada. \nTAMANHO DA POSIÃ‡ÃƒO\n\n1.8% em risco, no mÃ¡ximo.','long,stopgain,stoploss','#574BFF,#574BFF,histograma,0,long|#B5E433,#B5E433,histograma,0,stopgain|#FE0101,#FE0101,histograma,0,stoploss'),
 (89,'function applyScript(candles, json, position, script, input) {\n\n    var lastbar = parseInt(position);\n\n    input.put(\"ncandles\", 52);\n    var MML = script.get(\"result\", script.call(\"$MMS\", lastbar, input));\n    input.put(\"ncandles\", 24);\n    var MMC = script.get(\"result\", script.call(\"$MMS\", lastbar, input));\n\n    var buy = 0;\n\n    if ((MMC - MML) > 0) {\n        buy = candles.Close(lastbar);\n    }\n\n    json.put(\"result\", buy);\n\n    return json;\n}\n','@FORSFUNDS_Buy','DESCRIÃ‡ÃƒO DO SETUP \n\nUtiliza-se da diferenÃ§a entre mÃ©dias aritmÃ©ticas curtas e longas e da variaÃ§Ã£o das mesmas para definir entradas e saÃ­das. MC = 24 / ML = 52\nENTRADA\n\nLong: Se (MC-ML) > 0, entrada no preÃ§o de fechamento para a data;\nSAÃ?DA\n\nStop gain: Se variaÃ§Ã£o da ML ou MC <= R$0,03, venda no fechamento;\n\nStop loss: -1.8% do preÃ§o de entrada. Stop sobe para o preÃ§o de compra â€“ 0,1%, se e somente se a mÃ­nima de dois dias anteriores for maior que o preÃ§o de compra, apÃ³s o quarto dia dentro da operaÃ§Ã£o. Se GAP, 0,1% abaixo do preÃ§o de entrada. \nTAMANHO DA POSIÃ‡ÃƒO\n\n1.8% em risco, no mÃ¡ximo.','result','#574BFF,#574BFF,histograma,0,buy|#B5E433,#B5E433,histograma,0,target|#FE0101,#FE0101,histograma,0,stoploss|undefined|undefined'),
 (90,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n\n    var rs = script.call(\"@FORS_FUNDS\", lastbar, input);\n    \n    json.put(\"buy_\", script.get(\"long\",rs));\n    json.put(\"gain_\", script.get(\"stopgain\",rs));\n    json.put(\"loss_\", script.get(\"stoploss\",rs));\n\n    return json;\n}\n','script 05',' DESCRIÃ‡ÃƒO DO SETUP\n\nâ€¢ Setup contra a tendÃªncia, tanto para compra como para venda (long ou short);\nâ€¢ Utiliza apenas grÃ¡ficos diÃ¡rios;\nâ€¢ Atua na tentativa de identificar regiÃ£o sobre-comprada (sobre-vendida), forÃ§a atuante no mercado (compradores ou vendedores), um sinal claro de mudanÃ§a da tendÃªncia, alÃ©m de aproveitar-se tambÃ©m da propriedade de retorno a mÃ©dia vigente nas variaÃ§Ãµes de preÃ§os. TraÃ§a targets (alvos) de acordo com a volatilidade do ativo no momento;\nâ€¢ Simples de se identificar visualmente, nÃ£o Ã© preciso mais do que 10 minutos diÃ¡rios para acompanhar mais de 30 ativos;\nâ€¢ EstratÃ©gia rara. Ocorre de uma a duas vezes por ativo por ano. Ã‰ uma estratÃ©gia complementar, utilizada em combinaÃ§Ã£o com alguma outra que seja freqÃ¼ente. Pode ser aplicado em qualquer ativo, com eficiÃªncia parecida;\nâ€¢ SerÃ£o apresentados somente os resultados das operaÃ§Ãµes Long;\n\nENTRADA\n\nLong (Short): os seguintes critÃ©rios devem ser satisfeitos, simultaneamente:\nA. Pelo menos 50% do candle abaixo (acima) da Banda de Bollinger Inferior (Superior), aritmÃ©tica, com 20 perÃ­odos e 2 desvios; (PARA DETECTAR MERCADO SOBRE-VENDIDO OU SOBRE-COMPRADO)\nB. O Fechamento a, no mÃ¡ximo (mÃ­nimo), 25% (75%) da mÃ¡xima do dia; (PARA DETECTAR FORÃ‡A ATUANTE E SINAL CLARO DE REVERSÃƒO DA TENDÃŠNCIA)\nEntrada sempre nos fechamentos;\nNÃ£o entrar se o objetivo for menor que 3%;\n\nSAÃ?DA\n\nâ€¢ Stop loss: abaixo (acima) da mÃ­nima (mÃ¡xima) do candle que gerou a entrada, ou abaixo (acima) da mÃ­nima (mÃ¡xima) do fundo (topo) imeditato a que o candle que gerou a entrada pertence. (GARANTIA DE CONTINUAÃ‡ÃƒO DO MOVIMENTO E FALHA NAS EXPECTATIVAS DE REVERSÃƒO DE TENDÃŠNCIA. EVITA AS FAMOSAS VIOLINADAS)\nâ€¢ Target: no primeiro negÃ³cio realizado acima (abaixo) da Banda de Bollinger Inferior (Superior), aritmÃ©tica, de 17 perÃ­odos e 0,5 desvios. (PARA DETECTAR QUANDO O PREÃ‡O NÃƒO ESTÃ? MAIS SOBRE-VENDIDO OU SOBRE-COMPRADO, E APROVEITA O POTENCIAL DE VOLATILIDADE DO ATIVO, IDENTIFICANDO SAÃ?DAS Ã“TIMAS).\n\nTAMANHO DA POSIÃ‡ÃƒO\n\nVisando uma perda aceitÃ¡vel de no mÃ¡ximo 6% ao mÃªs, e dado que este setup ocorre entre uma e duas vezes ao ano, podemos admitir uma perda de atÃ© 30% do capital, para entrar com todo o capital na operaÃ§Ã£o, sem alavancagem.\nSe o trader for aplicar este setup em vÃ¡rios ativos, pode entrar com posiÃ§Ãµes menores, afim de respeitar a regra dos 6%, aumentando muito a rentabilidade.','buy_,gain_,loss_','#574BFF,#574BFF,histograma,0,buy_|#B5E433,#B5E433,histograma,0,gain_|#FE0101,#FE0101,histograma,0,stoploss|undefined|undefined|undefined|undefined|undefined|undefined'),
 (91,'function applyScript(candles, json, lastbar, script, input) {\n\n    var maxH = (candles.High(lastbar) > candles.High(lastbar + 1)) ? candles.High(lastbar) : candles.High(lastbar + 1);\n    var minL = (candles.Low(lastbar) < candles.Low(lastbar + 1)) ? candles.Low(lastbar) : candles.Low(lastbar + 1);\n\n    var position = lastbar + 1;\n\n    var ncandles = 25;\n    if ((lastbar + ncandles) > candles.size()) {\n        json.put(\"result\", 0);\n        return json;\n    }\n\n    var HHV = 0;\n    for (var x = position; x < position + ncandles; x++) {\n        if (HHV < candles.Close(x)) {\n            HHV = candles.Close(x);\n        }\n    }\n\n    var colA = (maxH - minL) / (minL * 100);\n    var colB = candles.Close(lastbar) > HHV;\n\n    input.put(\"ncandles\", \"40\");\n    var MME = script.get(\"result\", script.call(\"$MME\", lastbar, input));\n\n    var result = (colB && (candles.Volume(position) > 200000) && (candles.Close(position) > MME) && (colA <= 15));\n    // && (colA <= 15)\n\n    json.put(\"PT\", (result) ? \"1\" : \"0\");\n    return json;\n}\n','@Peak_Trough','Peak & Trough Breakout\n------------------------\nhttp://www.scribd.com/doc/6479008/Metastock-Breakout-Formulas','PT','#ED2E2E,#ED2E2E,histograma,0,result'),
 (92,'function applyScript(candles, json, lastbar, script, input) {\n\nvar ncandles = 25;\n    if ((lastbar + ncandles) > candles.size()) {\n       json.put(\"result\", 0);\n       return json;\n    }\n\n    var HHV = 0;\n    for (var x = lastbar; x < lastbar + ncandles; x++) {\n        if (HHV < candles.Close(x)) HHV = candles.Close(x);\n    }\n\n    var HHV_1 = 0;\n    for (var x = lastbar + 1; x < (lastbar + 1) + ncandles; x++) {\n        if (HHV < candles.Close(x)) {\n            HHV = candles.Close(x);\n        }\n    }\n\n    var LLV = 0;\n    for (var x = lastbar; x < lastbar + ncandles; x++) {\n        if (LLV > candles.Low(x)) {\n            LLV = candles.Low(x);\n        }\n    }\n    input.put(\"ncandles\", \"180\");\n    var MME = script.get(\"result\", script.call(\"$MME\", lastbar, input));\n\n    var colA = (HHV - LLV) / (LLV * 100);\n    var colB = (candles.Close(lastbar) > HHV_1);\n    var result = (colB && (candles.Volume(lastbar) > 200000) && (candles.Close(lastbar) > MME) && colA <= 15);\n    json.put(\"HHB\", (result) ? 1 : 0);\n    return json;\n}\n','@Highest_High_Breakout','Highest High Value Breakout\n------------------------\nhttp://www.scribd.com/doc/6479008/Metastock-Breakout-Formulas','HHB','#ED2E2E,#ED2E2E,histograma,0,HHB2|#ED2E2E,#ED2E2E,histograma,0,close'),
 (93,'function applyScript(candles, json, lastbar, script, input) {\n\n    var colA = (HHV(candles, lastbar, 3) <= 1.2 * HHV(candles, lastbar, 24)) && (LLV(candles, lastbar, 3) >= 0.8 * LLV(candles, lastbar, 24));\n    var colB = (HHV(candles, lastbar, 6) <= 1.2 * HHV(candles, lastbar, 24)) && (LLV(candles, lastbar, 6) >= 0.8 * LLV(candles, lastbar, 24));\n    var colC = (HHV(candles, lastbar, 12) <= 1.2 * HHV(candles, lastbar, 24)) && (LLV(candles, lastbar, 12) >= 0.8 * LLV(candles, lastbar, 24));\n    var colD = (HHV(candles, lastbar, 15) <= 1.2 * HHV(candles, lastbar, 24)) && (LLV(candles, lastbar, 15) >= 0.8 * LLV(candles, lastbar, 24));\n    var colE = (HHV(candles, lastbar, 18) <= 1.2 * HHV(candles, lastbar, 24)) && (LLV(candles, lastbar, 18) >= 0.8 * LLV(candles, lastbar, 24));\n    var colF = (HHV(candles, lastbar, 21) <= 1.2 * HHV(candles, lastbar, 24)) && (LLV(candles, lastbar, 21) >= 0.8 * LLV(candles, lastbar, 24));\n\n    var result = colA && colB && colC && colD && colE && colF && (candles.Close(lastbar) > HHV(candles, lastbar, 24));\n    json.put(\"HHB2\", (result) ? \"1\" : \"0\");\n    return json;\n}\n\nfunction LLV(candles, lastbar, ncandles) {\n\n    if ((lastbar + ncandles) > candles.size()) {\n        return 0;\n    }\n    var LLV = 0;\n    for (var x = lastbar; x < lastbar + ncandles; x++) {\n        if (LLV > candles.Low(x)) {\n            LLV = candles.Low(x);\n        }\n    }\n    return LLV;\n}\n\nfunction HHV(candles, lastbar, ncandles) {\n    if ((lastbar + ncandles) > candles.size()) {\n        return 0;\n    }\n    var HHV = 0;\n    for (var x = lastbar; x < lastbar + ncandles; x++) {\n        if (HHV < candles.High(x)) {\n            HHV = candles.High(x);\n        }\n    }\n    return HHV;\n}\n','@HHB2','Highest High Value Breakout\n------------------------\nhttp://www.scribd.com/doc/6479008/Metastock-Breakout-Formulas','HHB2','#ED2E2E,#ED2E2E,histograma,0,HHB2|#ED2E2E,#ED2E2E,histograma,0,close'),
 (95,'function applyScript(candles, json, position, script, input) {\n\n    var lastbar = parseInt(position);\n    var ncandles = parseFloat(input.get(\"ncandles\"));\n\n    var ajust01 = 0.955;\n    var ajust02 = 1.001;\n    var ajust03 = 0.5;\n    var ajust04 = 2.043;\n\n    if ((lastbar + ncandles) > candles.size()) {\n        json.put(\"result\", 0);\n        return json;\n    }\n\n    var sum2Low = candles.Low(lastbar) + candles.Low(lastbar + 1);\n    var percLow = sum2Low / candles.Low(lastbar);\n\n    var maxMinIndex01 = candles.High(lastbar + 1) / ajust01;\n    var maxMinIndex02 = candles.High(lastbar + 1) * ajust02;\n\n    var maxMinIndex03 = candles.Low(lastbar) * percLow * ajust03;\n    var maxMinIndex04 = candles.Low(lastbar) * percLow / ajust04;\n\n    // Essa rotina serve para verificar qual a minima mais provavel com base\n    // no valor da minima do dia anterior modificada -0.01\n    var maxMinIndex05 = maxMinIndex04;\n    var lowSimulated = candles.Low(lastbar);\n    while (lowSimulated > maxMinIndex05) {\n        lowSimulated -= 0.01;\n        sum2Low = lowSimulated + candles.Low(lastbar + 1);\n        percLow = sum2Low / lowSimulated;\n        maxMinIndex05 = lowSimulated * percLow / ajust04;\n    }\n\n    json.put(\"MI01\", maxMinIndex01);\n    json.put(\"MI02\", maxMinIndex02);\n    json.put(\"MI03\", maxMinIndex03);\n    json.put(\"MI04\", maxMinIndex04);\n    json.put(\"MI05\", maxMinIndex05);\n\n    return json;\n}\n','$MaxMinIndex','Max Min Index','MI01,MI02,MI03,MI04,MI05','#000000,#000000,line,0,MI01|#000000,#000000,line,0,MI02|#000000,#000000,line,0,MI03|#000000,#000000,line,0,MI04|#000000,#000000,Histograma,0'),
 (96,'function applyScript(candles, json, position, script, input) {\n\n    var lastbar = parseInt(position);\n    var ncandles = 5;\n\n    if ((lastbar + ncandles) > candles.size()) {\n        json.put(\"result\", 0);\n        return json;\n    }\n\n    var differMaxMin = Math.abs(candles.High(lastbar) / candles.Low(lastbar) * 100 - 100);\n    var differOpenClose = Math.abs(candles.Close(lastbar) / candles.Close(lastbar + 1) * 100 - 100);\n    var mediaMaxMin = 0;\n    var rs = script.call(\"$MaxMinIndex\", lastbar, input);\n    var maxMinIndex01 = script.get(\"MI01\", rs);\n    var percMaxIndex = Math.abs(maxMinIndex01 / candles.Close(lastbar + 1)) * 100 - 100;\n\n    for (var x = lastbar; x < lastbar + ncandles; x++) {\n        // double barVolume = qh.getPriceBar(x).getVolume();\n        mediaMaxMin = mediaMaxMin + Math.abs(candles.High(x + 1) / candles.Low(x + 1) * 100 - 100);\n    }\n\n    mediaMax = mediaMaxMin / ncandles;\n    mediaMin = mediaMaxMin / ncandles / 4 * 2;\n\n    json.put(\"MMax\", mediaMax);\n    json.put(\"MMin\", mediaMin);\n\n    return json;\n}\n','$VariationVolume','Variation Volume','MMax,MMin','#000000,#000000,line,0,MI01|#000000,#000000,line,0,MI02|#000000,#000000,line,0,MI03|#000000,#000000,line,0,MI04|#000000,#000000,Histograma,0'),
 (97,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n    var ncandles = 5;\n    var differMaxMin = Math.abs(candles.High(lastbar) - candles.Low(lastbar));\n    var mediaMaxMin = 0;\n\n    for (var x=lastbar; x<=lastbar+ncandles; x++) {\n        mediaMaxMin = mediaMaxMin + Math.abs(candles.High(x + 1) - candles.Low(x + 1));\n    }\n\n    var mediaMax = mediaMaxMin / ncandles;\n    var mediaMin = mediaMaxMin / ncandles / 4 * 2;\n\n    json.put(\"mediaMax\", mediaMax);\n    json.put(\"mediaMin\", mediaMin);\n\n    return json;\n}\n','$VariationPriceIndex','Variation Price Index','mediaMax,mediaMin','#574BFF,#574BFF,histograma,0,buy_|#B5E433,#B5E433,histograma,0,gain_|#FE0101,#FE0101,histograma,0,stoploss|undefined|undefined|undefined|undefined|undefined|undefined'),
 (98,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n   \n    var rs = script.call(\"$VariationPriceIndex\", lastbar, input);\n    var mediaMax = parseFloat(script.get(\"mediaMax\",rs));\n    var mediaMin = parseFloat(script.get(\"mediaMin\",rs));\n    var buy = (candles.Close(lastbar+1) - mediaMax*1.025);\n    var sell = buy * 1.015; // 1.023  (mediaMin/4);\n//    var sell = candles.Close(lastbar+1) - (mediaMin/3);\n\n    var criterio3 = true; //candles.Close(lastbar) > candles.Open(lastbar);\n    var criterio1 = (buy > candles.Low(lastbar)) && (sell < candles.High(lastbar)) && criterio3;\n    var criterio2 = (buy > candles.Low(lastbar)) && (sell > candles.High(lastbar)) && criterio3;\n\n/*    var buy2 = (candles.Close(lastbar+1) - mediaMax*1.0);\n    var sell2 = buy2 * 1.01; // 1.023  (mediaMin/3);\n    var criterio4 = (buy2 > candles.Low(lastbar)) && (sell2 < candles.High(lastbar)) && criterio3;\n    var criterio5 = (buy2 > candles.Low(lastbar)) && (sell2 > candles.High(lastbar)) && criterio3;\n*/\n/*\n    var buy = (candles.Close(lastbar+1) - mediaMax*1.0);\n    var sell = buy * 1.01; // 1.023  (mediaMin/3);\n\n    var buy2 = (candles.Close(lastbar+1) - mediaMax*1.25);\n    var sell2 = buy2 * 1.015; // 1.023  (mediaMin/3);\n\n    var criterio1 = (buy > candles.Low(lastbar)) && (sell < candles.High(lastbar));\n    var criterio2 = (buy > candles.Low(lastbar)) && (sell > candles.High(lastbar));\n*/\n    json.put(\"gain\", (criterio1)?1:0);\n    json.put(\"loss\", (criterio2)?1:0);\n//    json.put(\"gain2\", (criterio4)?2:0);\n//    json.put(\"loss2\", (criterio5)?2:0);\n\n    return json;\n}\n','script 06','Com essa formula eu espero obter uuma regra  para aplicar na compra e venda com meus indicadores','gain,loss','#574BFF,#574BFF,histograma,0,gain'),
 (99,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n\n    input.put(\"ncandles\", \"50\");\n    input.put(\"tipo\", \"volume\");\n    var MME_50 = script.get(\"result\", script.call(\"$MME\", lastbar, input));\n\n    var colA = candles.Close(lastbar);\n    var colB = candles.Close(lastbar + 1);\n    var colC = ( Math.abs(candles.Close(lastbar) / candles.Close(lastbar + 1)) * 100) - 100;\n    var colD = candles.Volume(lastbar);\n\n    var colE = MME_50;\n    var colF = ((candles.Volume(lastbar) - MME_50) / (MME_50 * 100));\n\n    var result = ((colC >= 5) && (colD >= colE * 1.5) && (candles.Volume(lastbar) > 250000));\n\n    json.put(\"result\", (result) ? 1 : 0);\n\n    return json;\n}\n','@Price_Volume_Breakout','Price & Volume Breakout\n-----------------------------------------\n','result','#574BFF,#574BFF,histograma,0,result'),
 (100,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n   \n//    var result = script.get(\"result\",script.call(\"@Short_Term_Breakout\", lastbar, input));\n    var result = script.get(\"result\",script.call(\"@Price_Volume_Breakout\", lastbar, input));\n    json.put(\"result\", result);\n\n    return json;\n}\n','script 07','Price & Volume Breakout\nShort Term Breakout\n-----------------------------------------\nRepresenta o stoploss com base a regra do preço e volume','result','#574BFF,#574BFF,histograma,0,gain'),
 (101,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n\n    input.put(\"ncandles\", \"13\");\n    var MME_13 = script.get(\"result\", script.call(\"$MME\", lastbar, input));\n\n    var criterio = (candles.High(lastbar + 1) <= candles.High(lastbar + 2)) && (candles.High(lastbar + 2) <= candles.High(lastbar + 3)) && (candles.High(lastbar + 3) <= candles.High(lastbar + 4)) && (candles.High(lastbar + 4) <= candles.High(lastbar + 5));\n\n    var result = criterio && (candles.Close(lastbar) > candles.High(lastbar + 1)) && (candles.Volume(lastbar) > 200000) && (candles.Close(lastbar) > MME_13);\n\n    json.put(\"result\", (result) ? 1 : 0);\n\n    return json;\n}\n','@Short_Term_Breakout','Short Term Breakout\n---------------------------\n','result','#574BFF,#574BFF,histograma,0,result'),
 (102,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n\n    input.put(\"ncandles\", \"20\");\n    input.put(\"deviations\", \"2\");\n\n    var criterio1 = (candles.Close(lastbar) < BBUpper(lastbar, script, input)) && (candles.Close(lastbar + 1) < BBUpper(lastbar + 1, script, input)) && (candles.Close(lastbar + 10) < BBUpper(lastbar + 10, script, input)) && (candles.Close(lastbar + 10) < BBLower(lastbar + 10, script, input)) && (candles.Close(lastbar + 20) < BBUpper(lastbar + 20, script, input)) && (candles.Close(lastbar + 20) < BBLower(lastbar + 20, script, input)) && (candles.Close(lastbar + 30) < BBUpper(lastbar + 30, script, input)) && (candles.Close(lastbar + 30) < BBLower(lastbar + 30, script, input)) && (candles.Close(lastbar + 40) < BBUpper(lastbar + 40, script, input)) && (candles.Close(lastbar + 40) < BBLower(lastbar + 40, script, input)) && (candles.Close(lastbar + 50) < BBUpper(lastbar + 50, script, input)) && (candles.Close(lastbar + 50) < BBLower(lastbar + 50, script, input));\n\n    input.put(\"ncandles\", \"30\");\n    var HHV = script.get(\"result\", script.call(\"$HHV\", lastbar + 1, input));\n\n    var criterio2 = (candles.High(lastbar) <= HHV) && (candles.Volume(lastbar) > 150000);\n\n    var result = criterio1 && criterio2;\n\n    json.put(\"result\", (result) ? 1 : 0);\n\n    return json;\n}\n\nfunction BBUpper(lastbar, script, input) {\n    return script.get(\"result\", script.call(\"$BollingerUpper\", lastbar, input));\n}\n\nfunction BBLower(lastbar, script, input) {\n    return script.get(\"result\", script.call(\"$BollingerLower\", lastbar, input));\n}\n','@Bollinger_Band_Breakout','Bollinger Band Breakout\n---------------------------\n','result','#574BFF,#574BFF,histograma,0,result'),
 (103,'function applyScript(candles, json, lastbar, script, input) {\n\n    var ncandles = parseInt(input.get(\"ncandles\"));\n    if ((lastbar + ncandles) > candles.size()) {\n        json.put(\"result\", 0);\n        return json;\n    }\n\n    var HHV = 0;\n    for (var x = lastbar; x < lastbar + ncandles; x++) {\n        if (HHV < candles.Close(x)) HHV = candles.Close(x);\n    }\n\n    json.put(\"result\", HHV);\n    return json;\n}\n','$HHV','Highest High Value\n------------------------\n','HHB','#ED2E2E,#ED2E2E,histograma,0,HHB2|#ED2E2E,#ED2E2E,histograma,0,close'),
 (104,'function applyScript(candles, json, position, script, input) {\n    var lastbar = parseInt(position);\n\n    // var ncandles = parseInt(input.get(\"ncandles\"));\n    var perc = parseFloat(input.get(\"perc\"));\n    var result = Math.abs(((candles.Close(lastbar + 1) / candles.Close(lastbar)) * 100) - 100);\n\n    json.put(\"result\", (result > perc) ? result : candles.Close(lastbar));\n    return json;\n}\n','@ZigZag','ZigZag imcompleto, falta entender que tipo de valor ele retorna.','result',''),
 (105,'function applyScript(candles, json, lastbar, script, input) {\n\n    var ncandles = 14; //parseInt(input.get(\"ncandles\"));\n\n    if ((lastbar + ncandles) > candles.size()) {\n        json.put(\"result\", 0);\n        return json;\n    }\n\n    var gains = 0;\n    var losses = 0;\n\n    for (var bar = lastbar; bar < lastbar + ncandles; bar++) {\n        var change = candles.Close(bar) - candles.Close(bar + 1);\n        gains += Math.max(0, change);\n        losses += Math.max(0, -change);\n    }\n\n    var change = gains + losses;\n    var result = (change == 0) ? 50 : 100 * gains / change;\n    json.put(\"result\", result);\n\n    return json;\n\n}','$RSI','RSI - Relative Strenght Index\n--------------------------------------------','result',''),
 (106,'function applyScript(candles, json, lastbar, script, input) {\n\n    input.put(\"ncandles\", 14);\n    var RSI_14 = script.get(\"result\", script.call(\"$RSI\", lastbar, input));\n\n    var rsHigh = false;\n    var rsLow = false;\n    rsHigh = High(candles, script, lastbar, input, RSI_14);\n    rsLow  = Low(candles, script, lastbar, input, RSI_14);\n\n    json.put(\"top\", ((rsHigh) ? 1 : 0));   //resistencia\n    json.put(\"bottom\", ((rsLow) ? 1 : 0)); //top\n\n    return json;\n}\n\nfunction High(candles, script, lastbar, input, RSI_14) {\n    input.put(\"ncandles\", 4);\n    input.put(\"tipo\", \"High\");\n    var Mx = script.get(\"result\", script.call(\"$MMS\", lastbar, input));\n    var Mx_1 = script.get(\"result\", script.call(\"$MMS\", lastbar + 1, input));\n\n    var criterio1 = (candles.High(lastbar) > candles.High(lastbar + 1));\n    var criterio2 = (candles.High(lastbar) < Mx);\n    var criterio3 = (candles.High(lastbar + 1) > Mx_1);\n    var criterio4 = (HHV(candles,lastbar,4) < HHV(candles,lastbar,10));\n    var criterio5 = (RSI_14 > 50);\n\n    return criterio1 && criterio2 && criterio3 && criterio4 && criterio5;\n}\n\nfunction Low(candles, script, lastbar, input, RSI_14) {\n\n    input.put(\"ncandles\", 4);\n    input.put(\"tipo\", \"Low\");\n    var Mx = script.get(\"result\", script.call(\"$MMS\", lastbar, input));\n    var Mx_1 = script.get(\"result\", script.call(\"$MMS\", lastbar + 1, input));\n\n    return (candles.Low(lastbar) > candles.Low(lastbar + 1)) && (candles.Low(lastbar) > Mx) && (candles.Low(lastbar + 1) < Mx_1) && (LLV(candles, lastbar, 4) > LLV(candles, lastbar, 10)) && (RSI_14 < 50);\n}\n\nfunction LLV(candles, lastbar, ncandles) {\n\n    if ((lastbar + ncandles) > candles.size()) {\n        return 0;\n    }\n    var LLV = 0;\n    for (var x = lastbar; x < lastbar + ncandles; x++) {\n        if (LLV > candles.Low(x)) {\n            LLV = candles.Low(x);\n        }\n    }\n    return LLV;\n}\n\nfunction HHV(candles, lastbar, ncandles) {\n    if ((lastbar + ncandles) > candles.size()) {\n        return 0;\n    }\n    var HHV = 0;\n    for (var x = lastbar; x < lastbar + ncandles; x++) {\n        if (HHV < candles.High(x)) {\n            HHV = candles.High(x);\n        }\n    }\n    return HHV;\n}','@123_High_Low','1-2-3 High or Low\n----------------------\nInforma o suporte e a resistencia.\nE\' raro ocorrer, mas com os testes feitos para a resistencia deu bons sinais para vender.','top,bottom',''),
 (107,'function applyScript(candles, json, lastbar, script, input) {\n\n    var ncandles = input.get(\"ncandles\");\n    var role1 = candles.Peak(lastbar,1, \"H\", 10) <= 1.1 * candles.Peak(lastbar,2, \"H\", 10);\n    var role2 = candles.Peak(lastbar,1, \"H\", 10) >= 0.9 * candles.Peak(lastbar,2, \"H\", 10);\n    var role3 = candles.Trough(lastbar,1, \"L\", 10) >= 1.1 * candles.Trough(lastbar,2, \"H\", 10);\n    var role4 = candles.Trough(lastbar,1, \"L\", 10) <= 0.9 * candles.Trough(lastbar,2, \"H\", 10) && candles.isLLV(lastbar, 25);\n    var colA = role1 && role2 && role3 && role4;\n\n    var role5 = candles.Peak(lastbar,1, \"H\", 5) <= 1.1 * candles.Peak(lastbar,2, \"H\", 5);\n    var role6 = candles.Peak(lastbar,1, \"H\", 5) >= 0.9 * candles.Peak(lastbar,2, \"H\", 5);\n    var role7 = candles.Trough(lastbar,1, \"L\", 5) >= 1.1 * candles.Trough(lastbar,2, \"H\", 5);\n    var role8 = candles.Trough(lastbar,1, \"L\", 5) <= 0.9 * candles.Trough(lastbar,2, \"H\", 5) && candles.isLLV(lastbar, 25);\n    var colB = role5 && role6 && role7 && role8;\n\n    var role9 = candles.Peak(lastbar,1, \"H\", 1) <= 1.1 * candles.Peak(lastbar,2, \"H\", 1);\n    var role10 = candles.Peak(lastbar,1, \"H\", 1) >= 0.9 * candles.Peak(lastbar,2, \"H\", 1);\n    var role11 = candles.Trough(lastbar,1, \"L\", 1) >= 1.1 * candles.Trough(lastbar,2, \"H\", 1);\n    var role12 = candles.Trough(lastbar,1, \"L\", 1) <= 0.9 * candles.Trough(lastbar,2, \"H\", 1) && candles.isLLV(lastbar, 25);\n    var colC = role9 && role10 && role11 && role12;\n\n    var result = colA || colB || colC;\n\n    json.put(\"result\", (result)?0:1);\n\n    return json;\n}\n','@123_Ross_Hook','1 2 3 Ross Hook\n-----------------------------------------\n','result','#000000,#000000,histograma,0,result'),
 (108,'function applyScript(candles, json, lastbar, script, input) {\n\n    var ncandles = parseInt(input.get(\"ncandles\"));\n\n    if ((lastbar + ncandles) > candles.size()) {\n        json.put(\"result\", 0);\n        return json;\n    }\n    var TR = 0;\n    for (var x = lastbar; x < lastbar + ncandles; x++) {\n        TR += Math.max(Math.abs(candles.High(x) - candles.Low(x)), Math.abs(candles.High(x) - candles.Close(x + 1)), Math.abs(candles.Low(x) - candles.Close(x + 1)));\n    }\n    var result = TR / ncandles;\n\n    json.put(\"result\", result);\n\n    return json;\n}\n','$ATR','Average True Range (ATR)\n-----------------------------------------\nhttp://www.prosticks.com/education/indicators/loadContent.php?sid=69a00482c2cdb3143b81404c6258f316&page=atr','result','#000000,#000000,Histograma,0');
INSERT INTO `scripts` (`id`,`script`,`name`,`descr`,`param`,`settingchart`) VALUES 
 (109,'function applyScript(candles, json, lastbar, script, input) {\n\n    //    input.put(\"ncandles\",input);\n    var result = ADX(candles, lastbar, input);\n    json.put(\"ADX\", result);\n\n    json.put(\"pDI\", pDI14(candles, lastbar, input));\n    json.put(\"mDI\", mDI14(candles, lastbar, input)/13);\n    return json;\n}\n\n// TR = MAX(C4-D5;ASS(C5-E4);ASS(D5-E4))\nfunction TR(candles, lastbar, input) {\n    var x = lastbar;\n    var v1 = (candles.High(x) - candles.Low(x + 1));\n    var v2 = Math.abs(candles.High(x + 1) - candles.Close(x));\n    var v3 = Math.abs(candles.Low(x + 1) - candles.Close(x));\n    var TR = (v1 > v2) ? v1 : v2;\n    TR = (TR > v3) ? TR : v3;\n    return TR;\n}\n\n//+DM=SE(C5-C4>D4-D5;MAX(C5-C4;0);0)\nfunction pDM(candles, lastbar, input) {\n    var x = lastbar;\n    var v1 = candles.High(x + 1) - candles.High(x);\n    var v2 = candles.Low(x) - candles.Low(x + 1);\n    var v3 = candles.High(x + 1) - candles.High(x);\n    var plusDM = (v1 > v2) ? Math.abs(v3, 0) : 0;\n    return plusDM;\n}\n\n//-DM=SE(D4-D5>C5-C4;MAX(D4-D5;0);0)\nfunction mDM(candles, lastbar, input) {\n    var x = lastbar;\n    var v1 = candles.Low(x) - candles.Low(x + 1);\n    var v2 = candles.High(x + 1) - candles.High(x);\n    var v3 = candles.Low(x) - candles.Low(x + 1);\n    var minusDM= (v1 > v2) ? Math.abs(v3, 0) : 0;\n\n    input.put(\"mDM\",minusDM);\n    return minusDM;\n}\n\n//TR14=SUM(F5:F18)\nfunction TR14(candles, lastbar, input) {\n    if (lastbar + 13 > candles.size()) {\n        return 0;\n    }\n    var sum = 0;\n    for (var x = lastbar; x < lastbar + 13; x++) {\n        sum += TR(candles, x, input);\n    }\n    return sum;\n}\n\n//+DM14=SUM(G5:G18)\nfunction pDM14(candles, lastbar, input) {\n    var sum = 0;\n    for (var x = lastbar; x < lastbar + 13; x++) {\n        sum += pDM(candles, x, input);\n    }\n    return sum;\n}\n\n//-DM14=SUM(H5:H18)\nfunction mDM14(candles, lastbar, input) {\n    var sum = 0;\n    for (var x = lastbar; x < lastbar + 13; x++) {\n        sum += mDM(candles, x, input);\n    }\n    return sum;\n}\n\n//+DI14=ARROTONDA((100*(J18/I18));0)\nfunction pDI14(candles, lastbar, input) {\n    var pDM_14 = pDM14(candles, lastbar, input);\n    var TR_14 = TR14(candles, lastbar, input);\n    return parseInt(100 * (pDM_14 / TR_14));\n}\n\n//-DI14=ARROTONDA((100*(K18/J18));0)\nfunction mDI14(candles, lastbar, input) {\n    var mDM_14 = mDM14(candles, lastbar, input);\n    var pDM_14 = pDM14(candles, lastbar, input);\n    return parseInt(100 * (mDM_14 / pDM_14));\n}\n\n//DI_diff=ASS(L18-M18)\nfunction DIdiff(candles, lastbar, input) {\n    var pDI_14 = pDI14(candles, lastbar, input);\n    var mDI_14 = mDI14(candles, lastbar, input);\n    return Math.abs(pDI_14 - mDI_14);\n}\n\n//DI_sum=L18+M18\nfunction DIsum(candles, lastbar, input) {\n    var pDI_14 = pDI14(candles, lastbar, input);\n    var mDI_14 = mDI14(candles, lastbar, input);\n    return pDI_14 + mDI_14;\n}\n\n//DX==ARROTONDA(100*(N18/O18);0)\nfunction DX(candles, lastbar, input) {\n    var DI_diff = DIdiff(candles, lastbar, input);\n    var DI_sum = DIsum(candles, lastbar, input);\n    return parseInt(100 * (DI_diff / DI_sum));\n}\n\n//ADX==MEDIA(P17:P30)\nfunction ADX(candles, lastbar, input) {\n    var sum = 0;\n    for (var x = lastbar; x < lastbar + 13; x++) {\n        sum += DX(candles, x, input);\n    }\n    return sum/13;\n}\n','$ADX','ADX\n-----------------------------------------\nhttp://www.prosticks.com/education/indicators/loadContent.php?sid=69a00482c2cdb3143b81404c6258f316&page=atr','ADX,pDI,mDI','#000000,#000000,line,0,ADX|#1E52E3,#1E52E3,line,0,pDM|#E31E1E,#E31E1E,line,0,mDM'),
 (110,'function applyScript(candles, json, position, script, input) {\n\n    var lastbar = parseInt(position);\n    var rs = script.call(\"$ADX\", lastbar, input);\n    var adx = script.get(\"ADX\", rs);\n    var pdi = script.get(\"pDI\", rs);\n    var mdi = script.get(\"mDI\", rs);\n    var close = candles.Close(lastbar);\n    var role1 = pdi < mdi;\n    var role2 = ((candles.High(lastbar) > candles.High(lastbar + 1)) && (candles.High(lastbar + 1) > candles.High(lastbar + 2)) && (candles.High(lastbar + 2) > candles.High(lastbar + 3)));\n    var check = (adx > 30) && role1 && role2;\n\n    if (check) {\n        json.put(\"entry\", candles.LLV(lastbar, 3)); //- 0.125\n        json.put(\"stop\", candles.HHV(lastbar, 3));\n    } else {\n        json.put(\"entry\", 0);\n        json.put(\"stop\", 0);\n    }\n//    json.put(\"adx\", adx);\n    return json;\n}\n','@1234_Sell','1 2 3 4 Sell\n--------------------------------\nA:Close\nB:ADX(14){The higher the better}\nC: PDI(14)<MDI(14)\nD:If(H>Ref(H,-1) and Ref(H,-1)>Ref(H,-2) and\nRef(H,-2)>Ref(H,-3),1,0)\nE:{Entry}LLV(L,3)-.125\nF:{stop}HHV(H,3)\nFilter:ColB>30 and ColC and ColD=1 ','stop,entry','#FE0101,#FE0101,histograma,0,stop|#FEED01,#FEED01,histograma,0,entry|undefined'),
 (111,'function applyScript(candles, json, lastbar, script, input) {\n    input.put(\"ncandles\", 1);\n    var atr_1 = script.get(\"result\", script.call(\"$ATR\", lastbar + 1, input));\n\n    var atr1  = script.get(\"result\", script.call(\"$ATR\", lastbar, input));\n    input.put(\"ncandles\", 10);\n    var atr10 = script.get(\"result\", script.call(\"$ATR\", lastbar, input));\n\n    var role1 = ((candles.Close(lastbar + 1) - candles.Low(lastbar + 1)) / (candles.High(lastbar + 1) - candles.Low(lastbar + 1))) < 0.30;\n    var role2 = ((candles.Close(lastbar) - candles.Low(lastbar)) / (candles.High(lastbar) - candles.Low(lastbar))) > 0.70;\n    var role3 = (atr1 >= atr10) && (atr_1 > atr10); \n    var result = role1 && role2 && role3;\n\n    json.put(\"result\", (result)?1:0);\n    json.put(\"atr1\", atr1);\n    json.put(\"atr_1\", atr_1);\n    json.put(\"atr10\", atr10);\n    return json;\n}\n','@2_Day_Hammer_Exploration','2 Day Hammer Exploration\n---------------------------\nEsse indicador apresenta os candles de alta, sendo que a alta é muitas vezes apresentado somente no proximo candle, e mesmo assim encontrei varios erros. \nPS: Antes de usar devo fazer um TEST de performance com a quant. de acertos e erros','result,atr_1,atr10,atr1','#000000,#000000,histograma,0,result|#FE0101,#FE0101,line,0, adx_curr|#000000,#000000,line,0,adx_prev|undefined|undefined|undefined'),
 (112,'function applyScript(candles, json, lastbar, script, input) {\n\n    var role1 = candles.High(lastbar) > candles.High(lastbar + 4);\n    var role2 = candles.High(lastbar) > candles.High(lastbar + 3);\n    var role3 = candles.High(lastbar) > candles.High(lastbar + 2);\n    var role4 = candles.High(lastbar) > candles.High(lastbar + 1);\n    var role5 = candles.Close(lastbar) < candles.Open(lastbar);\n    var result = role1 && role2 && role3 && role4 && role5;\n\n    json.put(\"result\", (result) ? 1 : 0);\n    return json;\n}\n','@5_Day_High','5 Day High\n----------------------------------------\n{\"Today must make a five-day high and today the close must be below the open.\"}','result','#000000,#000000,histograma,0,result|#FE0101,#FE0101,line,0,atr_1|#000000,#000000,line,0,atr10|#000000,#000000,line,0,atr1'),
 (113,'function applyScript(candles, json, lastbar, script, input) {\n\n    var role1 = candles.Close(lastbar) - candles.Close(lastbar + 7);\n    var role2 = candles.Close(lastbar + 7) * 100;\n    var result = role1 / role2;\n\n    json.put(\"result\", result);\n    return json;\n}\n','@7_Day_Rate_of_Change','7 Day Rate Of Change Ported From Super Charts\n--------------------------------------\nE\' um indicador','result','#000000,#000000,histograma,0,result|#FE0101,#FE0101,line,0,atr_1|#000000,#000000,line,0,atr10|#000000,#000000,line,0,atr1'),
 (114,'function applyScript(candles, json, lastbar, script, input) {\n\n    input.put(\"ncandles\",14);\n    var adx_curr = script.get(\"ADX\", script.call(\"$ADX\", lastbar, input));\n    var adx_prev = script.get(\"ADX\", script.call(\"$ADX\", lastbar+1, input));\n\n    var result = (adx_curr > adx_prev) && (adx_curr > 30);\n\n//    json.put(\"result\", (result)?1:0);\n    json.put(\"result\", (result)?adx_curr/2:0);\n\n    json.put(\"adx_curr\", adx_curr);\n    json.put(\"adx_prev\", adx_prev);\n    return json;\n}\n','@ADX_Trendlines','ADX And Trendlines\n\nif you want to identify directional movement by expressing that the ADX \"is rising\" the most basic way to do it would be:\n\nADX(14) > Ref(ADX(14),-1) -- Today\'s ADX is greater than yesterday\'s ADX.\n\nThere is another aspect to the ADX that bears investigation, though; namely the level of the ADX. There seems to be a general consensus that an ADX over, say, 30 indicates a stronger trend than lower ADX readings. So you could either write ADX(14) > 30 -- or not, depending on your objectives. You can stipulate that both conditions are true by joining them with the word \"and.\"\n\nAlso, I have found the following helpful: try using the custom ADX formula posted on the MetaStock website. Wilder wrote the original ADX in such a fashion that it rounds the readings out to the nearest whole number. The \"regular\" canned MetaStock ADX does this, while the custom ADX does not. The non-rounded readings are just a shade more sensitive, which can be helpful.','result,adx_curr,adx_prev','#000000,#000000,histograma,0,result|#FE0101,#FE0101,line,0, adx_curr|#000000,#000000,line,0,adx_prev'),
 (115,'function applyScript(candles, json, lastbar, script, input) {\n    var max = 0;\n    var min = 0;\n\n    var ncandles = parseInt(input.get(\"ncandles\"));\n    min = candles.Low(lastbar+ncandles);    \n    for (var bar = lastbar; bar < lastbar+ncandles; bar++) {\n        max = Math.max(candles.High(bar), max);\n        min = Math.min(candles.Low(bar), min);\n    }\n    var last = candles.Close(lastbar);\n    var result = ((last - min) / (max - min)) * 100;\n\n    json.put(\"result\", result);\n\n    return json;\n}\n','$Stochastic','Stochastic\n----------------------','result','#000000,#000000,histograma,0,result|#284CFE,#284CFE,histograma,0,bullish|#FE0101,#FE0101,histograma,0,bearish|undefined'),
 (116,'function applyScript(candles, json, lastbar, script, input) {\n\n    var ncandles = parseInt(input.get(\"ncandles\"));\n\n    input.put(\"ncandles\",14);\n    var adx = script.get(\"ADX\",script.call(\"$ADX\",lastbar,input));\n\n\n    input.put(\"ncandles\",15);\n    var mms_15 = script.get(\"result\",script.call(\"$MMS\",lastbar,input));\n\n    input.put(\"ncandles\",30);\n    var mms_30 = script.get(\"result\",script.call(\"$MMS\",lastbar,input));\n\n    input.put(\"ncandles\",5);\n    var mms_5 = script.get(\"result\",script.call(\"$MMS\",lastbar,input));\n    var stoch_5_prev = script.get(\"result\",script.call(\"$Stochastic\",lastbar+1,input));\n    var stoch_5 = script.get(\"result\",script.call(\"$Stochastic\",lastbar,input));\n\n    var role1 = (adx > 20);\n    var role2 = (mms_15 > mms_30);\n    var role3 = (mms_5 > mms_30);\n    var role4 = (stoch_5 < 30);\n    var role5 = (stoch_5_prev >= 30);\n  \n    var result = role1 && role2 && role3 && role4 && role5;\n    var bullish = (adx > 80) && (mms_15 > mms_30) && (mms_5 > mms_30);\n    var bearish = (adx > 80) && (mms_15 < mms_30) && (mms_5 < mms_30);\n\n    json.put(\"result\", (result)?1:0);\n    json.put(\"bullish\", (bullish)?1:0);\n    json.put(\"bearish\", (bearish)?1:0);\n\n    return json;\n}\n','@ADX_Stochastic_Signals','ADX with Stochastic Signals\n-----------------------------\nPS: Aumentei ADX > 80 para diminuir a quantidade de alarme falso, pois quanto maior o valor de ADX maior a segurança de uma tendencia\nMetastock users can reproduce the trend bars and entry signals shown on the CWO chart using the Expert Advisor. Create a new expert and under Symbols add a new entry with the following condition :\n\nADX(14) > 20 AND ( Mov(C,15,S) > Mov(C,30,S)) AND ( Mov(C,5,S) > Mov(C,30,S)) AND Stoch(5,3) < 30 AND Ref(Stoch(5,3) ,-1) >=30\n\nUnder Trends add the Bullish formula :\n\nADX(14) > 20 AND ( Mov(C,15,S) > Mov(C,30,S)) AND ( Mov(C,5,S) > Mov(C,30,S))\n\nand the Bearish formula :\n\nADX(14) > 20 AND ( Mov(C,15,S) < Mov(C,30,S)) AND ( Mov(C,5,S) < Mov(C,30,S))','result,bullish,bearish','#000000,#000000,histograma,0,result|#284CFE,#284CFE,histograma,0,bullish|#FE0101,#FE0101,histograma,0,bearish|undefined'),
 (118,'function applyScript(candles, json, lastbar, script,input) {\n\n    input.put(\"ncandles\",14);\n    var rs = script.call(\"$ADX\", lastbar, input);\n    var adx = script.get(\"ADX\", rs);\n    var pdi = script.get(\"pDI\", rs);\n    var mdi = script.get(\"mDI\", rs);\n\n    var adx_1 = script.get(\"ADX\", script.call(\"$ADX\", lastbar + 1, input));\n\n//    var openLong = (pdi > mdi) && (adx > adx_1);\n//    var closeLong = (pdi < mdi) && (adx < adx_1);\n    var openShort = (pdi < mdi) && (adx < adx_1);\n    var closeShort = (pdi > mdi) && (adx > adx_1);\n\n//    json.put(\"openLong\", (openLong)?1:0);\n//    json.put(\"closeLong\", (closeLong)?1:0);\n    json.put(\"openShort\", (openShort)?1:0);\n    json.put(\"closeShort\", (closeShort)?1:0);\n\n    return json;\n}\n','@ADX_Linie','ADX & Linie Kierunkowe\n-----------------------\nNao me da muita confiança esse indicador, terei de refinar melhor essa tecnica','openShort,closeShort','#3477FE,#3477FE,histograma,0,openShort|#FE3B3B,#FE3B3B,histograma,0,closeShort');
/*!40000 ALTER TABLE `scripts` ENABLE KEYS */;




/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
